import{Store}from"../../../store.js";import{MAX_PAGES_COUNT,CORNER_PAGE_COUNT,PAGE_TYPE}from"../../../const.js";import{getHTMLElements}from"../../../controller.js";export function renderFilmList(){const n=getHTMLElements().wrapper;if(!n)return;const e=Store.state.pageType===PAGE_TYPE.StartList;n.innerHTML=`\n            <div>\n                <div>${e?'<span class="reccomend-message">\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u043f\u0440\u0438\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\u0441\u044f \u043a \u0444\u0438\u043b\u044c\u043c\u0430\u043c \u0438\u0437 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438 \u0422\u041e\u041f-250:</span>':""}</div>\n\n                <div id="film-list-group" class="film-list-group">${createFilmList()}</div>\n\n                <div id="page-container">\n                    <span id='previous-page' class='next'> <ion-icon name="chevron-back-outline"></ion-icon> </span>\n                    ${createPagination()}\n                    <span id='next-page' class='next'> <ion-icon name="chevron-forward-outline"></ion-icon> </span>\n                </div>\n            </div>`}function createFilmList(){return Store.state.moviesList?.map(n=>`<div id = '${n.id}' class = "film-list-element ">\n            <img src = '${n.poster?.url}' alt = "${n.name}" />\n            <span>${n.name}</span>       \n        </div>`).join(" ")}function calculatePagination(){const n=Store.state.pagination.pages,e=Store.state.pagination.chosenPage;let t=[];return n<MAX_PAGES_COUNT?t=[...Array(n).keys()].map(n=>n+1):e<CORNER_PAGE_COUNT?(t=[...Array(CORNER_PAGE_COUNT).keys()].map(n=>n+1),t.push("...",n)):t=n-e<CORNER_PAGE_COUNT-1?[1,"...",n-4,n-3,n-2,n-1,n]:[1,"...",e-1,e,e+1,"...",n],t}function createPagination(){return calculatePagination().map(n=>`<span id='${"..."===n?"":n}' class='page ${Store.state.pagination.chosenPage===n?"active":""}'>${n}</span>`).join("")}