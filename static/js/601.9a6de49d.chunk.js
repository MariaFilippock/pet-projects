"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[601],{601:(e,i,s)=>{s.r(i),s.d(i,{default:()=>de});var a=s(43);const n="FilmopoiskReact_bodyContainer__zzUKc",o="FilmopoiskReact_container__ZiT1c",t="FilmopoiskReact_wrapper__CicqJ",r="Header_header__8CcNz",l="Header_searchContainer__psMXn",d="Header_navBrand__EsjCI",c="Header_formSearch__mofwV",v="DropdownMovieList_dropdownContainer__MT9HQ",m="DropdownMovieList_dropdownListMovies__SXu0t",_="DropdownMovieList_dropdownMovieItem__bfg11",u="DropdownMovieList_dropdownMovieRating__1+zCR",h="DropdownMovieList_searchInput__LFRx5",x="DropdownMovieList_btnSearch__QgQIv";var p=s(3),g=s(811),j=s(816),M=s(561),N=s(434),f=s(214),L=s(579);const C=()=>{const[e,i]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),o=(0,p.d4)(e=>e.dropdownMovieList.loadedList),t=(0,j.j)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("input",{onChange:e=>{e.preventDefault(),i(!0),n(e.target.value),t((0,f.CL)(e.target.value))},value:s,className:h,type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c\u044b",autoComplete:"off"}),(0,L.jsx)("div",{onClick:e=>{i(!1);const a=o.find(e=>e.name.toLowerCase()===s.toLowerCase());a&&(t((0,g.l)(a.id)),n(""))},className:x,children:(0,L.jsx)(N.fUO,{})}),(0,L.jsx)("div",{className:v,style:{marginTop:8},children:e&&(0,L.jsx)("div",{className:m,children:o.map(e=>{var s,a,o;return(0,L.jsxs)("div",{className:_,"data-name":e.name,onClick:()=>(e=>{i(!1);const s=Number(e.id);s&&t((0,g.l)(s)),n("")})(e),children:[e.name,(0,L.jsx)("span",{className:u,children:Number(null===e||void 0===e||null===(s=e.rating)||void 0===s?void 0:s.kp)>0?null===(a=e.rating)||void 0===a||null===(o=a.kp)||void 0===o?void 0:o.toFixed(1):""})]},e.id)}).slice(0,M.ET)})})]})};var I=s(44),k=s(820),y=s(259);const w=()=>{const e=(0,j.j)();return(0,L.jsx)("nav",{className:r,children:(0,L.jsxs)("div",{className:l,children:[(0,L.jsx)("div",{className:d,onClick:()=>{e((0,y.vs)(1)),e((0,I.G)(k.z.StartList))},children:"\u0424\u0438\u043b\u044c\u043c\u043e\u043f\u043e\u0438\u0441\u043a"}),(0,L.jsx)("div",{className:c,children:(0,L.jsx)(C,{})})]})})};var P=s(555);const b="SideBar_wrapper__NEfE5",F="SideBar_typesSearch__A3Dbh",R="SideBar_genresSearch__2IKW0",S="SideBar_yearSearch__Nqovv",T="SideBar_chosen__32uRV",D="SideBar_yearSearchTitle__shs23";var E=s(745);const G=()=>{const e=(0,p.d4)(e=>e.movieList.sideBarFilter),i=(0,j.j)(),s=Object.keys(M.EY.GenresMap);return(0,L.jsxs)("div",{className:b,children:[(0,L.jsx)("div",{className:F,children:M.EY.FilmTypes.map(s=>(0,L.jsx)("div",{id:s.id,className:"".concat(s.id===e.type?T:""),onClick:()=>(s=>{i((0,E.DM)((0,P.A)((0,P.A)({},e),{},{type:s}),1))})(s.id),children:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(s.icon,{}),s.text]})},s.id))}),(0,L.jsx)("div",{className:R,children:s.map(s=>(0,L.jsx)("div",{id:M.EY.GenresMap[s],className:"".concat(M.EY.GenresMap[s]===e.genre?T:""),onClick:()=>(s=>{i((0,E.DM)((0,P.A)((0,P.A)({},e),{},{genre:s}),1))})(M.EY.GenresMap[s]),children:M.EY.GenresMap[s]},s))}),(0,L.jsxs)("div",{className:S,children:[(0,L.jsx)("span",{className:D,children:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"}),(0,L.jsxs)("select",{onChange:s=>{const a=s.target.value;i((0,E.DM)((0,P.A)((0,P.A)({},e),{},{year:a}),1))},children:[(0,L.jsx)("option",{value:"all",children:"\u041b\u044e\u0431\u043e\u0439"},"all"),M.EY.years.map(e=>(0,L.jsx)("option",{value:e,children:e},e))]})]})]})},B="MovieCard_wrapperJoinColumn__sL93Y",A={wrapperJoinRow:"MovieMainInfo_wrapperJoinRow__bw9y+",poster:"MovieMainInfo_poster__eVj3G",addToFavorites:"MovieMainInfo_addToFavorites__utXdf",favoritesImg:"MovieMainInfo_favoritesImg__W2xsv",mainMovieInfo:"MovieMainInfo_mainMovieInfo__+yW-7",title:"MovieMainInfo_title__YbJpl",subtitle:"MovieMainInfo_subtitle__cFWmK",description:"MovieMainInfo_description__FLEk1",subcontainer:"MovieMainInfo_subcontainer__TV32h",params:"MovieMainInfo_params__EMgLq",tag:"MovieMainInfo_tag__i-cQH",textMuted:"MovieMainInfo_textMuted__kWtVg",btn:"MovieMainInfo_btn__vOOHx"};let V=(e,i)=>{if(e){const i=Math.floor(e/60),s=e%60;return i?"".concat(e," \u043c\u0438\u043d. / ").concat(i," \u0447 ").concat(s," \u043c\u0438\u043d."):"".concat(e," \u043c\u0438\u043d.")}return null!=i?"".concat(i," \u043c\u0438\u043d."):"0 \u043c\u0438\u043d."};const H=e=>{var i,s,a,n,o,t,r,l;let{movie:d,isFavorite:c}=e;const v=(0,p.d4)(e=>e.movieList.sideBarFilter),m=(0,j.j)(),{id:_,name:u,poster:h}=d;return(0,L.jsxs)("div",{className:A.wrapperJoinRow,children:[(0,L.jsx)("div",{className:A.poster,children:(0,L.jsx)("img",{src:null===(i=d.poster)||void 0===i?void 0:i.url,alt:""})}),(0,L.jsxs)("div",{className:A.mainMovieInfo,children:[(0,L.jsx)("div",{onClick:()=>{m((0,g.XS)({id:_,name:u,poster:h}))},className:A.addToFavorites,children:c?(0,L.jsxs)(L.Fragment,{children:["\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"," ",(0,L.jsx)(N.Sxb,{className:A.favoritesImg})]}):(0,L.jsxs)(L.Fragment,{children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"," ",(0,L.jsx)(N.DTR,{className:A.favoritesImg})]})}),(0,L.jsxs)("h1",{className:A.title,children:[null===d||void 0===d?void 0:d.name," (",null===d||void 0===d?void 0:d.year,")"]}),(0,L.jsxs)("h6",{className:A.subtitle,children:[d.alternativeName?d.alternativeName:""," ",Number(d.ageRating)>0?null===(s=d.ageRating)||void 0===s?void 0:s.toFixed(0):"0","+"]}),(0,L.jsx)("p",{className:A.description,children:d.shortDescription?d.shortDescription:""}),(0,L.jsx)("div",{className:A.subcontainer,children:(0,L.jsx)("a",{className:A.btn,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})}),(0,L.jsxs)("ul",{className:A.params+" "+A.subcontainer,children:[(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0424\u043e\u0440\u043c\u0430\u0442 "})," ",d.isSeries?"\u0421\u0435\u0440\u0438\u0430\u043b":"\u0424\u0438\u043b\u044c\u043c"]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0410\u0443\u0434\u0438\u043e\u0434\u043e\u0440\u043e\u0436\u043a\u0438 "}),"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 "}),(0,L.jsx)("span",{children:(0,L.jsxs)("span",{className:A.tag,children:[Number(d.ageRating)>0?null===(a=d.ageRating)||void 0===a?void 0:a.toFixed(0):"0","+"]})})]})]}),(0,L.jsx)("h2",{children:"\u041e \u0444\u0438\u043b\u044c\u043c\u0435"}),(0,L.jsxs)("ul",{className:A.params,children:[(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 "}),d.year]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0421\u0442\u0440\u0430\u043d\u0430 "}),(null===(n=d.countries)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.name)||""]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0416\u0430\u043d\u0440 "}),(0,L.jsx)("span",{className:A.genresList,children:null===(t=d.genres)||void 0===t?void 0:t.map((e,i,s)=>(0,L.jsxs)("span",{onClick:()=>{return i=e.name,void m((0,E.DM)((0,P.A)((0,P.A)({},v),{},{genre:i}),1));var i},children:[(0,L.jsx)("a",{children:e.name}),i<s.length-1&&", "]},e.name))})]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c "}),(0,L.jsx)("time",{className:A.textMuted,children:V(null!==(r=null===d||void 0===d?void 0:d.movieLength)&&void 0!==r?r:0,null!==(l=null===d||void 0===d?void 0:d.seriesLength)&&void 0!==l?l:0)})]}),(0,L.jsxs)("li",{children:[(0,L.jsx)("span",{className:A.textMuted,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "}),d.description]})]})]})]})},z="VideoPlayer_undefinedVideo__+5Lyq",Y="VideoPlayer_videoPlayer__ZFoO3",J="VideoPlayer_iframePlayer__lGCEo",O=e=>{var i,s;let{movie:n}=e;const o=(null===n||void 0===n||null===(i=n.trailers)||void 0===i?void 0:i.filter(e=>e.url))||[],[t,r]=(0,a.useState)("https://www.youtube.com/");(0,a.useEffect)(()=>{var e;r((null===(e=o[0])||void 0===e?void 0:e.url)||"")},[n.trailers]);return(0,L.jsx)("div",{className:Y,children:null!==(s=n.trailers)&&void 0!==s&&s.length?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("select",{onChange:e=>{r(e.target.value)},value:t,children:o.map(e=>(0,L.jsx)("option",{value:"".concat(e.url?e.url:e.name),children:e.name},"".concat(e.url?e.url:e.name)))}),(0,L.jsx)("iframe",{title:"Trailer",className:J,src:t})]}):(0,L.jsx)("div",{className:z,children:"\u0412\u0438\u0434\u0435\u043e\u043f\u043b\u0435\u0435\u0440 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})})},W={ratingMain:"RatingInfo_ratingMain__H3-ax",ratingCounts:"RatingInfo_ratingCounts__gmicK","rating-details":"RatingInfo_rating-details__gNaOG",ratingInfoColumn:"RatingInfo_ratingInfoColumn__2vEnT",favoritesTitle:"RatingInfo_favoritesTitle__IRhqu",favoriteMovieItem:"RatingInfo_favoriteMovieItem__Hr4uw",favoriteMoviePoster:"RatingInfo_favoriteMoviePoster__kexug",favoriteMovieName:"RatingInfo_favoriteMovieName__EVPEH"},q=e=>{var i,s,a,n,o;let{movie:t,favoriteMovieList:r}=e;const l=(0,j.j)(),d=e=>{const i=Number(e.currentTarget.getAttribute("data-film-id"));i&&l((0,g.l)(i))};return(0,L.jsxs)("div",{className:W.ratingInfoColumn,children:[(0,L.jsx)("span",{className:W.ratingMain,children:null===(i=t.rating)||void 0===i||null===(s=i.kp)||void 0===s?void 0:s.toFixed(1)}),(0,L.jsxs)("span",{className:W.ratingCounts,children:[null===(a=t.votes)||void 0===a||null===(n=a.kp)||void 0===n?void 0:n.toLocaleString()," \u043e\u0446\u0435\u043d\u043a\u0438"]}),(0,L.jsxs)("a",{className:W.ratingDetails,children:[null===(o=t.votes)||void 0===o?void 0:o.filmCritics," \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0439"]}),(0,L.jsx)("h4",{className:W.favoritesTitle,children:" \u041c\u043e\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 "}),r.map(e=>{var i;return(0,L.jsxs)("div",{className:W.favoriteMovieItem,"data-film-id":e.id,onClick:d,children:[(0,L.jsx)("img",{className:W.favoriteMoviePoster,alt:"",src:null===(i=e.poster)||void 0===i?void 0:i.url}),(0,L.jsx)("div",{className:W.favoriteMovieName,children:e.name})]},"favorite"+e.id)})]})},Q=()=>{const{movie:e,favoritesMovieList:i}=(0,p.d4)(e=>{var i;return null!==(i=e.movie)&&void 0!==i?i:{}}),s=i.some(i=>i.id===(null===e||void 0===e?void 0:e.id));return(0,L.jsxs)(L.Fragment,{children:[e?(0,L.jsxs)("div",{className:B,children:[(0,L.jsx)(H,{movie:e,isFavorite:s}),(0,L.jsx)(O,{movie:e})]}):null,e&&i.length?(0,L.jsx)(q,{movie:e,favoriteMovieList:i}):null]})},X="MovieList_movieList__gr4hc",K="MovieList_pagination__7Qmif",U="MovieList_page__Ntnhe",Z="MovieList_next__WMzAj",$="MovieList_active__UVynN",ee="MovieList_filterMessage__4alXf",ie="MovieList_startMovieListTitle__MTGlR";var se=s(221);const ae=se.pRN,ne=se.zBw,oe=(e,i)=>{let s=[];return e<M.Ig?s=[...Array(e).keys()].map(e=>e+1):i<M.sM?(s=[...Array(M.sM).keys()].map(e=>e+1),s.push(M.Gr,e)):s=e-i<M.sM-1?[1,M.Gr,e-4,e-3,e-2,e-1,e]:[1,M.Gr,i-1,i,i+1,M.Gr,e],s},te=e=>{let{onPageClick:i,onSearchMovieById:s,movieList:a,onNextPageClick:n,onPreviousPageClick:o,pages:t,chosenPage:r,title:l}=e;return(0,L.jsxs)("div",{children:[l&&(0,L.jsx)("h2",{className:ie,children:l}),0===a.length&&(0,L.jsx)("div",{className:ee,children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b."}),(0,L.jsx)("div",{className:X,children:a.map(e=>{var i;return(0,L.jsxs)("div",{onClick:()=>s(e.id),children:[(0,L.jsx)("img",{src:null===(i=e.poster)||void 0===i?void 0:i.url,alt:e.name}),(0,L.jsx)("span",{children:e.name})]},e.id)})}),(0,L.jsxs)("div",{className:K,children:[(0,L.jsx)("span",{id:"previousPage",onClick:o,children:(0,L.jsx)(ae,{className:Z})}),oe(t,r).map(e=>(0,L.jsx)("span",{className:"".concat(U," ").concat(e===r?$:""),onClick:e!==M.Gr?()=>i(e):void 0,children:e},e===M.Gr?"ellipsis":e)),(0,L.jsx)("span",{id:"nextPage",onClick:n,children:(0,L.jsx)(ne,{className:Z})})]})]})},re=()=>{const e=(0,p.d4)(e=>e.startMoviesList.startMoviesList),{pages:i,chosenPage:s}=(0,p.d4)(e=>{var i,s;return{pages:null!==(i=e.startMoviesList.pagination.pages)&&void 0!==i?i:1,chosenPage:null!==(s=e.startMoviesList.pagination.chosenPage)&&void 0!==s?s:1}}),a=(0,j.j)();return(0,L.jsx)(te,{onPageClick:e=>{e&&a((0,y.vs)(e))},onSearchMovieById:e=>{e&&a((0,g.l)(Number(e)))},movieList:e,onNextPageClick:()=>{const e=s+1;e>i||a((0,y.vs)(e))},onPreviousPageClick:()=>{const e=s-1;e<1||a((0,y.vs)(e))},pages:i,chosenPage:s,title:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u043f\u0440\u0438\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\u0441\u044f \u043a \u0444\u0438\u043b\u044c\u043c\u0430\u043c \u0438\u0437 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438 \u0422\u041e\u041f-250:"})},le=()=>{const e=(0,p.d4)(e=>e.movieList.moviesList),{pages:i,chosenPage:s}=(0,p.d4)(e=>{var i,s;return{pages:null!==(i=e.movieList.pagination.pages)&&void 0!==i?i:1,chosenPage:null!==(s=e.movieList.pagination.chosenPage)&&void 0!==s?s:1}}),a=(0,p.d4)(e=>e.movieList.sideBarFilter),n=(0,j.j)();return(0,L.jsx)(te,{onPageClick:e=>{e&&n((0,E.DM)(a,e))},onSearchMovieById:e=>{e&&n((0,g.l)(Number(e)))},movieList:e,onNextPageClick:()=>{const e=s+1;e>i||n((0,E.DM)(a,e))},onPreviousPageClick:()=>{const e=s-1;e<1||n((0,E.DM)(a,e))},pages:i,chosenPage:s})},de=()=>{const e=(0,p.d4)(e=>e.pageType.pageType);return(0,L.jsxs)("div",{className:n,children:[(0,L.jsx)(w,{}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)(G,{}),(0,L.jsx)("div",{id:"wrapper",className:t,children:e===k.z.FilmCard?(0,L.jsx)(Q,{}):e===k.z.StartList?(0,L.jsx)(re,{}):(0,L.jsx)(le,{})})]})]})}}}]);
//# sourceMappingURL=601.9a6de49d.chunk.js.map