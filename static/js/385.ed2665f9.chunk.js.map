{"version":3,"file":"static/js/385.ed2665f9.chunk.js","mappings":"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","sources":["pages/FilmopoiskReact/components/MovieList/FilteredMovieList.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieList/MovieList.module.scss?c236","pages/FilmopoiskReact/components/MovieList/MovieList.tsx"],"sourcesContent":["import React from 'react';\nimport {setMovieFilter} from 'store/reducers/movieList-reducer';\nimport {useSelector} from 'react-redux';\nimport {IAppState, useAppDispatch} from 'store/index';\nimport {MovieList} from 'pages/FilmopoiskReact/components/MovieList/MovieList';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\nimport common from 'pages/FilmopoiskReact/FilmopoiskReact.module.scss';\n\nconst FilteredMovieList = () => {\n    const {moviesList, isLoading} = useSelector(\n        (state: IAppState) => state.movieList\n    );\n\n    const {pages, chosenPage} = useSelector((state: IAppState) => {\n        const pages = state.movieList.pagination.pages ?? 1;\n        const chosenPage = state.movieList.pagination.chosenPage ?? 1;\n\n        return {pages, chosenPage};\n    });\n    const filters = useSelector(\n        (state: IAppState) => state.movieList.sideBarFilter\n    );\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handlePageClick = (page: number) => {\n        if (!page) {\n            return;\n        }\n\n        dispatch(setMovieFilter(filters, page));\n    };\n\n    const handleSearchMovieById = (id: number) => {\n        if (!id) return;\n\n        navigate(`${ROUTES.MOVIE_CARD}/${id}`);\n    };\n\n    const handleNextPageClick = () => {\n        const nextPage = chosenPage + 1;\n\n        if (nextPage > pages) {\n            return;\n        }\n\n        dispatch(setMovieFilter(filters, nextPage));\n    };\n\n    const handlePreviousPageClick = () => {\n        const previousPage = chosenPage - 1;\n\n        if (previousPage < 1) {\n            return;\n        }\n\n        dispatch(setMovieFilter(filters, previousPage));\n    };\n\n    if (isLoading) {\n        return <div className={common.preloaderWrapper}>\n            <div className={common.preloader}></div>\n        </div>\n    }\n\n    return <MovieList\n        onPageClick={handlePageClick}\n        onSearchMovieById={handleSearchMovieById}\n        movieList={moviesList}\n        onNextPageClick={handleNextPageClick}\n        onPreviousPageClick={handlePreviousPageClick}\n        pages={pages}\n        chosenPage={chosenPage}\n    />\n}\n\nexport default FilteredMovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__gr4hc\",\"recommend-message\":\"MovieList_recommend-message__Knbb0\",\"pagination\":\"MovieList_pagination__7Qmif\",\"page\":\"MovieList_page__Ntnhe\",\"next\":\"MovieList_next__WMzAj\",\"active\":\"MovieList_active__UVynN\",\"filterMessage\":\"MovieList_filterMessage__4alXf\",\"startMovieListTitle\":\"MovieList_startMovieListTitle__MTGlR\"};","import React from 'react';\nimport styles from './MovieList.module.scss';\nimport {IoChevronBackOutline, IoChevronForwardOutline} from 'react-icons/io5';\nimport {CORNER_PAGE_COUNT, ELLIPSIS, MAX_PAGES_COUNT} from '../../const';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\n\nconst BackOutline = IoChevronBackOutline;\nconst ForwardOutline = IoChevronForwardOutline;\n\nexport const calculatePagination = (pages: number, chosenPage: number) => {\n    let pagination: (number | string)[] = [];\n\n    if (pages < MAX_PAGES_COUNT) {\n        pagination = [...Array(pages).keys()].map((i) => i + 1);\n    } else if (chosenPage < CORNER_PAGE_COUNT) {\n        pagination = [...Array(CORNER_PAGE_COUNT).keys()].map((i) => i + 1);\n        pagination.push(ELLIPSIS, pages);\n    } else if (pages - chosenPage < CORNER_PAGE_COUNT - 1) {\n        pagination = [1, ELLIPSIS, pages - 4, pages - 3, pages - 2, pages - 1, pages];\n    } else {\n        pagination = [\n            1,\n            ELLIPSIS,\n            chosenPage - 1,\n            chosenPage,\n            chosenPage + 1,\n            ELLIPSIS,\n            pages,\n        ];\n    }\n    return pagination;\n};\n\ninterface IProps {\n    onPageClick: (page: number) => void;\n    onSearchMovieById: (id: number) => void;\n    movieList: IMovie[];\n    onNextPageClick: () => void;\n    onPreviousPageClick: () => void;\n    pages: number;\n    chosenPage: number;\n    title?: string;\n}\n\nexport const MovieList: React.FC<IProps> = ({onPageClick, onSearchMovieById, movieList, onNextPageClick, onPreviousPageClick, pages, chosenPage, title}) => {\n     return (\n        <div>\n            {title && <h2 className={styles.startMovieListTitle}>{title}</h2>}\n            {movieList.length === 0 && <div className={styles.filterMessage}>Ничего не найдено по выбранным фильтрам. Попробуйте выбрать другие фильтры.</div>}\n            <div className={styles.movieList}>\n                {movieList.map((item) => {\n                    return (\n                        <div\n                            key={item.id}\n                            onClick={() => onSearchMovieById(item.id)}\n                        >\n                            <img src={item.poster?.url || ''} alt={item.name}/>\n                            <span>{item.name}</span>\n                        </div>\n                    );\n                })}\n            </div>\n\n            <div className={styles.pagination}>\n                <span id={'previousPage'} onClick={onPreviousPageClick}>\n                    <BackOutline className={styles.next}/>\n                </span>\n                {calculatePagination(pages, chosenPage).map((page) => {\n                    return (\n                        <span\n                            className={`${styles.page} ${\n                                page === chosenPage ? styles.active : ''\n                            }`}\n                            key={page === ELLIPSIS ? 'ellipsis' : page}\n                            onClick={\n                                page !== ELLIPSIS\n                                    ? () =>\n                                        onPageClick(page as number)\n                                    : undefined\n                            }\n                        >\n                        {page}\n                        </span>);\n                })\n               }\n                <span id={'nextPage'} onClick={onNextPageClick}>\n                    <ForwardOutline className={styles.next}/>\n                </span>\n            </div>\n        </div>\n    );\n};\n"],"names":["FilteredMovieList","moviesList","isLoading","useSelector","state","movieList","pages","chosenPage","_state$movieList$pagi","_state$movieList$pagi2","pagination","filters","sideBarFilter","dispatch","useAppDispatch","navigate","useNavigate","_jsx","className","common","preloaderWrapper","children","preloader","MovieList","onPageClick","page","setMovieFilter","onSearchMovieById","id","concat","ROUTES","MOVIE_CARD","onNextPageClick","handleNextPageClick","nextPage","onPreviousPageClick","handlePreviousPageClick","previousPage","BackOutline","IoChevronBackOutline","ForwardOutline","IoChevronForwardOutline","calculatePagination","MAX_PAGES_COUNT","Array","keys","map","i","CORNER_PAGE_COUNT","push","ELLIPSIS","_ref","title","_jsxs","styles","length","item","_item$poster","onClick","src","poster","url","alt","name","undefined"],"sourceRoot":""}