{"version":3,"file":"static/js/160.bee17bd6.chunk.js","mappings":"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","sources":["webpack://portfolio/./src/pages/FilmopoiskReact/components/Header/Header.module.scss?5c2d","webpack://portfolio/./src/pages/FilmopoiskReact/components/DropdownMovieList/DropdownMovieList.module.scss?850c","pages/FilmopoiskReact/components/DropdownMovieList/DropdownMovieList.tsx","pages/FilmopoiskReact/components/Header/Header.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/components/SideBar/SideBar.module.scss?4d6b","pages/FilmopoiskReact/components/SideBar/SideBar.tsx","pages/FilmopoiskReact/FilmopoiskReact.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/FilmopoiskReact.module.scss?2fe2"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__8CcNz\",\"searchContainer\":\"Header_searchContainer__psMXn\",\"navBrand\":\"Header_navBrand__EsjCI\",\"formSearch\":\"Header_formSearch__mofwV\"};","// extracted by mini-css-extract-plugin\nexport default {\"dropdownContainer\":\"DropdownMovieList_dropdownContainer__MT9HQ\",\"dropdownListMovies\":\"DropdownMovieList_dropdownListMovies__SXu0t\",\"dropdownMovieItem\":\"DropdownMovieList_dropdownMovieItem__bfg11\",\"dropdownMovieRating\":\"DropdownMovieList_dropdownMovieRating__1+zCR\",\"dropdown-hidden\":\"DropdownMovieList_dropdown-hidden__1DJMU\",\"searchInput\":\"DropdownMovieList_searchInput__LFRx5\",\"btnSearch\":\"DropdownMovieList_btnSearch__QgQIv\"};","import React, {useState} from 'react';\nimport styles from './DropdownMovieList.module.scss';\nimport {useSelector} from 'react-redux';\nimport {getMovieById} from 'store/reducers/movieCard-reducer';\nimport {IAppState, useAppDispatch} from 'store';\nimport {DROPDOWN_QUANTITY_OF_MOVIES, ROUTES} from '../../const';\nimport {AiOutlineSearch} from 'react-icons/ai';\nimport {getMoviesList} from 'store/reducers/dropdownMovieList-reducer';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\nimport {useNavigate} from 'react-router-dom';\n\nexport const DropdownMovieList = () => {\n    const [isDropdownMovieListVisible, setDropdownMovieListVisible] =\n        useState(false);\n    const [name, setName] = useState('');\n    const loadedList = useSelector(\n        (state: IAppState) => state.dropdownMovieList.loadedList\n    );\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handleFindMovieIdAtDropdownList = (\n        movieItem: IMovie\n    ) => {\n        setDropdownMovieListVisible(false);\n        const id = Number(movieItem.id);\n\n        if (id) {\n            navigate(`${ROUTES.MOVIE_CARD}/${id}`);\n        }\n\n        setName('');\n    };\n\n    const handleShowDropdownMovieList = (\n        e: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        e.preventDefault();\n\n        setDropdownMovieListVisible(true);\n        setName(e.target.value);\n\n        //благодаря библиотеке thunk диспатчим функцию с запросом на сервер\n        dispatch(getMoviesList(e.target.value));\n    };\n\n    const handleSearchMovieByName = (e: React.MouseEvent<HTMLDivElement>) => {\n        setDropdownMovieListVisible(false);\n\n        const foundMovie = loadedList.find(\n            (movie) => movie.name.toLowerCase() === name.toLowerCase()\n        );\n\n        if (!foundMovie) {\n            return;\n        }\n\n        navigate(`${ROUTES.MOVIE_CARD}/${foundMovie.id}`);\n        dispatch(getMovieById(foundMovie.id));\n\n        setName('');\n    };\n\n    return (\n        <>\n            <input\n                onChange={handleShowDropdownMovieList}\n                value={name}\n                className={styles.searchInput}\n                type=\"text\"\n                placeholder=\"Фильмы\"\n                autoComplete=\"off\"\n            />\n            <div onClick={handleSearchMovieByName} className={styles.btnSearch}>\n                <AiOutlineSearch/>\n            </div>\n            <div className={styles.dropdownContainer} style={{marginTop: 8}}>\n                {isDropdownMovieListVisible && (\n                    <div className={styles.dropdownListMovies}>\n                        {loadedList\n                            .map((movieItem) => (\n                                <div\n                                    className={styles.dropdownMovieItem}\n                                    key={movieItem.id}\n                                    data-name={movieItem.name}\n                                    onClick={() => handleFindMovieIdAtDropdownList(movieItem)}\n                                >\n                                    {movieItem.name}\n                                    <span className={styles.dropdownMovieRating}>\n                    {Number(movieItem?.rating?.kp) > 0\n                        ? movieItem.rating?.kp?.toFixed(1)\n                        : ''}\n                  </span>\n                                </div>\n                            ))\n                            .slice(0, DROPDOWN_QUANTITY_OF_MOVIES)}\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n","import React from 'react';\nimport styles from './Header.module.scss';\nimport { DropdownMovieList } from '../DropdownMovieList/DropdownMovieList';\nimport {useAppDispatch} from 'store/index';\nimport {setStartMovieList} from 'store/reducers/startMovieList-reducer';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\n\nconst Header = () => {\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handleShowRandomMovieList = () => {\n        dispatch(setStartMovieList(1));\n        navigate(ROUTES.START_LIST);\n    };\n\n  return (\n    <nav className={styles.header}>\n      <div className={styles.searchContainer}>\n        <div className={styles.navBrand} onClick={handleShowRandomMovieList}>Фильмопоиск</div>\n        <div className={styles.formSearch}>\n          <DropdownMovieList />\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SideBar_wrapper__NEfE5\",\"typesSearch\":\"SideBar_typesSearch__A3Dbh\",\"genresSearch\":\"SideBar_genresSearch__2IKW0\",\"yearSearch\":\"SideBar_yearSearch__Nqovv\",\"chosen\":\"SideBar_chosen__32uRV\",\"yearSearchTitle\":\"SideBar_yearSearchTitle__shs23\"};","import React from 'react';\nimport styles from './SideBar.module.scss';\nimport {ROUTES, Text} from '../../const';\nimport {IAppState, useAppDispatch} from 'store';\nimport {setMovieFilter} from 'store/reducers/movieList-reducer';\nimport {useSelector} from 'react-redux';\nimport {useNavigate} from 'react-router-dom';\n\ntype GenreKey = keyof typeof Text.GenresMap;\n\nconst SideBar = () => {\n    const filters = useSelector(\n        (state: IAppState) => state.movieList.sideBarFilter\n    );\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n    const genres: string[] = Object.keys(Text.GenresMap);\n\n    const getHandleChangeTypeFilter = (type: string) => {\n        dispatch(setMovieFilter({...filters, type}, 1));\n        navigate(ROUTES.FILTERED_LIST);\n    };\n\n    const getHandleChangeGenresFilter = (genre: string) => {\n        dispatch(setMovieFilter({...filters, genre}, 1));\n        navigate(ROUTES.FILTERED_LIST);\n    };\n\n    const getHandleChangeYearFilter = (\n        e: React.ChangeEvent<HTMLSelectElement>\n    ) => {\n        const year = e.target.value;\n        dispatch(setMovieFilter({...filters, year}, 1));\n        navigate(ROUTES.FILTERED_LIST);\n    };\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.typesSearch}>\n                {Text.FilmTypes.map((type) => {\n                    return (\n                        <div\n                            key={type.id}\n                            id={type.id}\n                            className={`${type.id === filters.type ? styles.chosen : ''}`}\n                            onClick={() => getHandleChangeTypeFilter(type.id)}\n                        >\n                            <>\n                                {<type.icon/>}\n                                {type.text}\n                            </>\n                        </div>\n                    );\n                })}\n            </div>\n\n            <div className={styles.genresSearch}>\n                {(genres as GenreKey[]).map((genre) => {\n                    return (\n                        <div\n                            key={genre}\n                            id={Text.GenresMap[genre]}\n                            className={`${\n                                Text.GenresMap[genre] === filters.genre ? styles.chosen : ''\n                            }`}\n                            onClick={() => getHandleChangeGenresFilter(Text.GenresMap[genre])}\n                        >\n                            {Text.GenresMap[genre] as string}\n                        </div>\n                    );\n                })}\n            </div>\n\n            <div className={styles.yearSearch}>\n                <span className={styles.yearSearchTitle}>Год выпуска</span>\n                <select onChange={getHandleChangeYearFilter}>\n                    <option key={'all'} value={'all'}>\n                        Любой\n                    </option>\n                    {Text.years.map((year) => {\n                        return (\n                            <option key={year} value={year}>\n                                {year}\n                            </option>\n                        );\n                    })}\n                </select>\n            </div>\n        </div>\n    );\n};\n\nexport default SideBar;\n","import React, {lazy} from 'react';\nimport {Routes, Route, Navigate} from 'react-router-dom';\nimport styles from './FilmopoiskReact.module.scss';\nimport Header from './components/Header/Header';\nimport SideBar from 'pages/FilmopoiskReact/components/SideBar/SideBar';\n\n\nconst MovieCard = lazy(() => import('./components/MovieCard/MovieCard'));\nconst StartMovieList = lazy(() => import('./components/MovieList/StartMovieList'));\nconst FilteredMovieList = lazy(() => import('./components/MovieList/FilteredMovieList'));\n\nconst FilmopoiskReact = () => {\n    return (\n        <div className={styles.bodyContainer}>\n            <Header/>\n            <div className={styles.container}>\n                <SideBar/>\n                <div id=\"wrapper\" className={styles.wrapper}>\n                    <Routes>\n                        <Route index element={<Navigate to={'start_movie_list'} replace />}/>\n\n                        <Route path='movie_card/:id' element={<MovieCard/>} />\n                        <Route path='start_movie_list' element={<StartMovieList/>} />\n                        <Route path='filtered_movie_list' element={<FilteredMovieList/>} />\n                    </Routes>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default FilmopoiskReact;\n","// extracted by mini-css-extract-plugin\nexport default {\"bodyContainer\":\"FilmopoiskReact_bodyContainer__zzUKc\",\"container\":\"FilmopoiskReact_container__ZiT1c\",\"wrapper\":\"FilmopoiskReact_wrapper__CicqJ\",\"preloaderWrapper\":\"FilmopoiskReact_preloaderWrapper__KzqHY\",\"preloader\":\"FilmopoiskReact_preloader__qg+Px\",\"loader\":\"FilmopoiskReact_loader__kmlHu\"};"],"names":["DropdownMovieList","isDropdownMovieListVisible","setDropdownMovieListVisible","useState","name","setName","loadedList","useSelector","state","dropdownMovieList","dispatch","useAppDispatch","navigate","useNavigate","_jsxs","_Fragment","children","_jsx","onChange","e","preventDefault","target","value","getMoviesList","className","styles","type","placeholder","autoComplete","onClick","foundMovie","find","movie","toLowerCase","concat","ROUTES","MOVIE_CARD","id","getMovieById","AiOutlineSearch","style","marginTop","map","movieItem","_movieItem$rating","_movieItem$rating2","_movieItem$rating2$kp","Number","handleFindMovieIdAtDropdownList","rating","kp","toFixed","slice","DROPDOWN_QUANTITY_OF_MOVIES","Header","handleShowRandomMovieList","setStartMovieList","START_LIST","SideBar","filters","movieList","sideBarFilter","genres","Object","keys","Text","GenresMap","FilmTypes","setMovieFilter","_objectSpread","FILTERED_LIST","getHandleChangeTypeFilter","icon","text","genre","getHandleChangeGenresFilter","year","years","MovieCard","lazy","StartMovieList","FilteredMovieList","FilmopoiskReact","bodyContainer","container","wrapper","Routes","Route","index","element","Navigate","to","replace","path"],"sourceRoot":""}