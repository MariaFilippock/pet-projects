"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[710],{5710:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(5043);const i={variations:[{name:"Original"},{id:10001,name:"Variation A"},{id:10002,name:"Variation B"},{id:10003,name:"Variation C"}],data:[{date:"2025-01-01",visits:{0:1866,10002:1957,10003:1750},conversions:{0:158,10002:463,10003:491}},{date:"2025-01-02",visits:{0:1547,10002:1968,10003:1160},conversions:{0:173,10002:504,10003:320}},{date:"2025-01-03",visits:{0:1125,10002:1642,10003:1775},conversions:{0:120,10002:413,10003:473}},{date:"2025-01-04",visits:{0:1779,10002:1763,10003:1031},conversions:{0:243,10002:404,10003:257}},{date:"2025-01-05",visits:{0:1276,10002:1634,10003:1101},conversions:{0:150,10002:344,10003:246}},{date:"2025-01-06",visits:{0:1479,10001:1502,10002:1388,10003:1661},conversions:{0:172,10001:271,10002:280,10003:326}},{date:"2025-01-07",visits:{0:1409,10001:1400,10002:1347,10003:1616},conversions:{0:199,10001:227,10002:252,10003:261}},{date:"2025-01-08",visits:{0:1756,10001:1229,10002:1053,10003:1629},conversions:{0:216,10001:191,10002:153,10003:219}},{date:"2025-01-09",visits:{0:1981,10001:1781,10002:1322,10003:1659},conversions:{0:244,10001:267,10002:168,10003:166}},{date:"2025-01-10",visits:{0:1345,10001:1672,10002:1574,10003:1525},conversions:{0:149,10001:200,10002:174,10003:121}},{date:"2025-01-11",visits:{0:1542,10001:1283,10002:1424,10003:1189},conversions:{0:141,10001:141,10002:129,10003:64}},{date:"2025-01-12",visits:{0:1539,10001:1084,10002:1558,10003:1142},conversions:{0:135,10001:84,10002:97,10003:153}},{date:"2025-01-13",visits:{0:1099,10001:1832,10002:1410,10003:1353},conversions:{0:73,10001:282,10002:131,10003:59}},{date:"2025-01-14",visits:{0:1842,10001:1413,10002:1821,10003:1885},conversions:{0:108,10001:63,10002:93,10003:108}},{date:"2025-01-15",visits:{0:1069,10001:1867,10003:1154},conversions:{0:137,10001:75,10003:68}},{date:"2025-01-16",visits:{0:1271,10001:1676,10003:1839},conversions:{0:53,10001:55,10003:274}},{date:"2025-01-17",visits:{0:1845,10001:1057,10003:1639},conversions:{0:32,10001:47,10003:183}},{date:"2025-01-18",visits:{0:1463,10001:1483,10002:1830,10003:1497},conversions:{0:35,10001:36,10002:128,10003:207}},{date:"2025-01-19",visits:{0:1088,10001:1720,10002:1721,10003:1796},conversions:{0:35,10001:74,10002:169,10003:286}},{date:"2025-01-20",visits:{0:1684,10001:1515,10002:1471,10003:1286},conversions:{0:36,10001:73,10002:158,10003:259}},{date:"2025-01-21",visits:{0:1105,10001:1800,10002:1040,10003:1785},conversions:{0:45,10001:135,10002:146,10003:401}},{date:"2025-01-22",visits:{0:1413,10001:1737,10002:1958,10003:1161},conversions:{0:66,10001:134,10002:311,10003:286}},{date:"2025-01-23",visits:{0:1470,10001:1405,10002:1413,10003:1697},conversions:{0:94,10001:154,10002:276,10003:477}},{date:"2025-01-24",visits:{0:1015,10001:1555,10002:1320,10003:1977},conversions:{0:75,10001:365,10002:273,10003:565}},{date:"2025-01-25",visits:{0:1292,10001:1994,10002:1879,10003:1755},conversions:{0:107,10001:269,10002:433,10003:497}},{date:"2025-01-26",visits:{0:1128,10001:1714,10002:1786,10003:0},conversions:{0:96,10001:289,10002:416,10003:0}},{date:"2025-01-27",visits:{0:1691,10001:1085,10002:1147,10003:0},conversions:{0:175,10001:190,10002:284,10003:0}},{date:"2025-01-28",visits:{0:1001,10001:1238,10002:1002,10003:0},conversions:{0:114,10001:225,10002:234,10003:0}},{date:"2025-01-29",visits:{0:1213,10001:1546,10002:1224,10003:0},conversions:{0:158,10001:275,10002:288,10003:0}},{date:"2025-01-30",visits:{0:1404,10001:1257,10002:1428,10003:0},conversions:{0:189,10001:232,10002:312,10003:0}},{date:"2025-01-31",visits:{0:1986,10001:1084,10002:1607,10003:0},conversions:{0:234,10001:206,10002:346,10003:0}}]};var n=a(1180),o=a(877),r=a(7734),c=a(2185),l=a(6026),d=a(3670),v=a(5963),h=a(5748),m=a(1584);const u="CustomTooltip_tooltipContainer__C9n90",p="CustomTooltip_labelTitle__ypSNN",f="CustomTooltip_tooltipWrapper__yKS5z",x="CustomTooltip_tooltipItem__d9mSs",_="CustomTooltip_variation__flyk1",j="CustomTooltip_colorCircle__YqQEo";var C=a(221),g=a(579);const y=e=>{const{active:t,payload:a,label:s}=e;if(!t||!a)return null;const i=[...a].sort((e,t)=>{var a,s;return(null!==(a=t.value)&&void 0!==a?a:0)-(null!==(s=e.value)&&void 0!==s?s:0)});return(0,g.jsxs)("div",{className:u,children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(C.nih,{}),s]}),(0,g.jsx)("div",{className:f,children:i.map((e,t)=>(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("div",{className:j,style:{backgroundColor:e.color}}),(0,g.jsx)("span",{children:e.name}),0===t&&(0,g.jsx)("span",{children:(0,g.jsx)(C.ZpW,{})})]}),(0,g.jsxs)("div",{children:[e.value,"%"]},e.dataKey)]},e.dataKey))})]})};var b=a(454);let k=function(e){return e.Light="Light",e.Dark="Dark",e}({});const S={allVariations:{value:"all",label:"All variations selected"},periods:[{value:"Day",label:"Day"},{value:"Week",label:"Week"}],lineType:[{value:"linear",label:"Linear"},{value:"monotone",label:"Smooth"},{value:"area",label:"Area"}]},N=[{value:k.Light,label:"Light theme",background:"#fff",icon:(0,g.jsx)(C.UAK,{})},{value:k.Dark,label:"Dark theme",background:"#232222",icon:(0,g.jsx)(C.SJd,{})}],R={mainContainer:"LineChartReact_mainContainer__MDC-o",headerActions:"LineChartReact_headerActions__2-D+h",variationsSelector:"LineChartReact_variationsSelector__tzbfu",periodsSelector:"LineChartReact_periodsSelector__f1Pcf",lineTypeSelector:"LineChartReact_lineTypeSelector__9MjUp",downloadBtn:"LineChartReact_downloadBtn__Msbf3",chartContainer:"LineChartReact_chartContainer__6bt9x",rightGroupActions:"LineChartReact_rightGroupActions__mXKGK",themeSelector:"LineChartReact_themeSelector__QRG2b",lineChart:"LineChartReact_lineChart__x9Ah8",themeOption:"LineChartReact_themeOption__Vwbxc"};const A=e=>{if(!e)return;const t=document.createElement("style");t.textContent=function(){let e="";for(const a of document.styleSheets)try{for(const t of a.cssRules)e+=t.cssText}catch(t){}return e}(),e.prepend(t);const a=(new XMLSerializer).serializeToString(e);t.remove();const s=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(s),n=new Image;n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const t=e.getContext("2d");t&&(t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),t.drawImage(n,0,0));const a=e.toDataURL("image/png"),s=document.createElement("a");s.download="chart.png",s.href=a,s.click(),URL.revokeObjectURL(i)},n.src=i},L={0:"#8884d8",10001:"#82ca9d",10002:"#3f69bc",10003:"#ecbf12"},D=S.allVariations.value,w=()=>{const[e,t]=(0,s.useState)(N[0]),[a,u]=(0,s.useState)("linear"),[p,f]=(0,s.useState)([D]),[x,_]=(0,s.useState)("Day"),{formattedData:j,variationKeys:k,variationNameByKey:w}="Day"===x?(e=>{const t={},a=[];return e.variations.forEach(e=>{const s=void 0!==e.id?e.id.toString():"0";a.push(s),t[s]=e.name}),{formattedData:e.data.map(e=>{const t={date:e.date};return a.forEach(a=>{const s=e.visits[a],i=e.conversions[a];t[a]=void 0===s||void 0===i?null:0===s?0:(i/s*100).toFixed(2)}),t}),variationKeys:a,variationNameByKey:t}})(i):(e=>{const t={},a=[],s={};return e.variations.forEach(e=>{const s=void 0!==e.id?e.id.toString():"0";a.push(s),t[s]=e.name}),e.data.forEach(e=>{const t=new Date(e.date),i=t.getFullYear(),n=t.getMonth()+1,o=Math.ceil(((t.getTime()-new Date(i,0,1).getTime())/864e5+new Date(i,0,1).getDay()+1)/7),r="".concat(i,"-").concat(n,"-W").concat(o);s[r]||(s[r]={visits:{},conversions:{}}),a.forEach(t=>{const a=e.visits[t],i=e.conversions[t];s[r].visits[t]=(s[r].visits[t]||0)+(null!==a&&void 0!==a?a:0),s[r].conversions[t]=(s[r].conversions[t]||0)+(null!==i&&void 0!==i?i:0)})}),{formattedData:Object.entries(s).map(e=>{let[t,s]=e;const i={date:t};return a.forEach(e=>{const t=s.visits[e],a=s.conversions[e];if(0===t)return i[e]=0;i[e]=+(a/t*100).toFixed(2)}),i}),variationKeys:a,variationNameByKey:t}})(i),K=p[0]===D?k:p,T=(0,s.useRef)(null);return(0,g.jsxs)("div",{className:R.mainContainer,children:[(0,g.jsxs)("div",{className:R.headerActions,children:[(0,g.jsxs)("div",{className:R.selectorsContainer,children:[(0,g.jsx)(b.A,{mode:"multiple",className:R.variationsSelector,defaultValue:[D],options:[S.allVariations,...k.map(e=>({value:e,label:w[e]}))],onChange:e=>{if(0!==e.length)if(e.length===k.length||e[e.length-1]===D)f([D]);else if(e[0]===D){const t=e.filter(e=>e!==D);f(t)}else f(e)},value:p}),(0,g.jsx)(b.A,{className:R.periodsSelector,options:S.periods,onChange:_,value:x})]}),(0,g.jsxs)("div",{className:R.rightGroupActions,children:[(0,g.jsx)(b.A,{className:R.lineTypeSelector,onChange:u,options:S.lineType,value:a}),(0,g.jsx)("button",{className:R.downloadBtn,onClick:()=>{A(T.current)},children:(0,g.jsx)(C.R2D,{})}),(0,g.jsx)(b.A,{className:R.themeSelector,onChange:(e,a)=>{a&&!Array.isArray(a)&&t(a)},options:N,optionRender:e=>(0,g.jsxs)("div",{className:R.themeOption,children:[e.data.icon,(0,g.jsx)("span",{children:e.data.label})]}),value:e.value})]})]}),(0,g.jsx)("h3",{style:{textAlign:"center",marginBottom:12},children:"Conversion Rate by Variations"}),(0,g.jsx)("div",{className:R.chartContainer,children:(0,g.jsx)(n.u,{width:"100%",height:"100%",children:"area"===a?(0,g.jsxs)(o.Q,{style:{backgroundColor:e.background},className:R.lineChart,ref:T,data:j,children:[(0,g.jsx)(r.d,{strokeDasharray:"3 3"}),(0,g.jsx)(c.W,{dataKey:"date"}),(0,g.jsx)(l.h,{width:"auto",tickFormatter:e=>"".concat(e,"%")}),(0,g.jsx)(d.m,{content:(0,g.jsx)(y,{})}),K.map(e=>(0,g.jsx)(v.Gk,{dataKey:e,name:w[e],stroke:L[e],fill:L[e]+"33",isAnimationActive:!0},e))]},K.join("-")+a):(0,g.jsxs)(h.b,{style:{backgroundColor:e.background},className:R.lineChart,ref:T,data:j,children:[(0,g.jsx)(r.d,{strokeDasharray:"3 3"}),(0,g.jsx)(c.W,{dataKey:"date"}),(0,g.jsx)(l.h,{width:"auto",tickFormatter:e=>"".concat(e,"%")}),(0,g.jsx)(d.m,{content:(0,g.jsx)(y,{})}),K.map(e=>(0,g.jsx)(m.N,{dataKey:e,name:w[e],type:a,dot:!1,stroke:L[e],isAnimationActive:!0},e))]},K.join("-")+a)})})]})}}}]);
//# sourceMappingURL=710.ccdf536e.chunk.js.map