"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[367],{6367:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var a=s(5043);const i={variations:[{name:"Original"},{id:10001,name:"Variation A"},{id:10002,name:"Variation B"},{id:10003,name:"Variation C"}],data:[{date:"2025-01-01",visits:{0:1866,10002:1957,10003:1750},conversions:{0:158,10002:463,10003:491}},{date:"2025-01-02",visits:{0:1547,10002:1968,10003:1160},conversions:{0:173,10002:504,10003:320}},{date:"2025-01-03",visits:{0:1125,10002:1642,10003:1775},conversions:{0:120,10002:413,10003:473}},{date:"2025-01-04",visits:{0:1779,10002:1763,10003:1031},conversions:{0:243,10002:404,10003:257}},{date:"2025-01-05",visits:{0:1276,10002:1634,10003:1101},conversions:{0:150,10002:344,10003:246}},{date:"2025-01-06",visits:{0:1479,10001:1502,10002:1388,10003:1661},conversions:{0:172,10001:271,10002:280,10003:326}},{date:"2025-01-07",visits:{0:1409,10001:1400,10002:1347,10003:1616},conversions:{0:199,10001:227,10002:252,10003:261}},{date:"2025-01-08",visits:{0:1756,10001:1229,10002:1053,10003:1629},conversions:{0:216,10001:191,10002:153,10003:219}},{date:"2025-01-09",visits:{0:1981,10001:1781,10002:1322,10003:1659},conversions:{0:244,10001:267,10002:168,10003:166}},{date:"2025-01-10",visits:{0:1345,10001:1672,10002:1574,10003:1525},conversions:{0:149,10001:200,10002:174,10003:121}},{date:"2025-01-11",visits:{0:1542,10001:1283,10002:1424,10003:1189},conversions:{0:141,10001:141,10002:129,10003:64}},{date:"2025-01-12",visits:{0:1539,10001:1084,10002:1558,10003:1142},conversions:{0:135,10001:84,10002:97,10003:153}},{date:"2025-01-13",visits:{0:1099,10001:1832,10002:1410,10003:1353},conversions:{0:73,10001:282,10002:131,10003:59}},{date:"2025-01-14",visits:{0:1842,10001:1413,10002:1821,10003:1885},conversions:{0:108,10001:63,10002:93,10003:108}},{date:"2025-01-15",visits:{0:1069,10001:1867,10003:1154},conversions:{0:137,10001:75,10003:68}},{date:"2025-01-16",visits:{0:1271,10001:1676,10003:1839},conversions:{0:53,10001:55,10003:274}},{date:"2025-01-17",visits:{0:1845,10001:1057,10003:1639},conversions:{0:32,10001:47,10003:183}},{date:"2025-01-18",visits:{0:1463,10001:1483,10002:1830,10003:1497},conversions:{0:35,10001:36,10002:128,10003:207}},{date:"2025-01-19",visits:{0:1088,10001:1720,10002:1721,10003:1796},conversions:{0:35,10001:74,10002:169,10003:286}},{date:"2025-01-20",visits:{0:1684,10001:1515,10002:1471,10003:1286},conversions:{0:36,10001:73,10002:158,10003:259}},{date:"2025-01-21",visits:{0:1105,10001:1800,10002:1040,10003:1785},conversions:{0:45,10001:135,10002:146,10003:401}},{date:"2025-01-22",visits:{0:1413,10001:1737,10002:1958,10003:1161},conversions:{0:66,10001:134,10002:311,10003:286}},{date:"2025-01-23",visits:{0:1470,10001:1405,10002:1413,10003:1697},conversions:{0:94,10001:154,10002:276,10003:477}},{date:"2025-01-24",visits:{0:1015,10001:1555,10002:1320,10003:1977},conversions:{0:75,10001:365,10002:273,10003:565}},{date:"2025-01-25",visits:{0:1292,10001:1994,10002:1879,10003:1755},conversions:{0:107,10001:269,10002:433,10003:497}},{date:"2025-01-26",visits:{0:1128,10001:1714,10002:1786,10003:0},conversions:{0:96,10001:289,10002:416,10003:0}},{date:"2025-01-27",visits:{0:1691,10001:1085,10002:1147,10003:0},conversions:{0:175,10001:190,10002:284,10003:0}},{date:"2025-01-28",visits:{0:1001,10001:1238,10002:1002,10003:0},conversions:{0:114,10001:225,10002:234,10003:0}},{date:"2025-01-29",visits:{0:1213,10001:1546,10002:1224,10003:0},conversions:{0:158,10001:275,10002:288,10003:0}},{date:"2025-01-30",visits:{0:1404,10001:1257,10002:1428,10003:0},conversions:{0:189,10001:232,10002:312,10003:0}},{date:"2025-01-31",visits:{0:1986,10001:1084,10002:1607,10003:0},conversions:{0:234,10001:206,10002:346,10003:0}}]};var n=s(1180),o=s(877),r=s(7734),c=s(2185),l=s(6026),d=s(3670),v=s(5963),h=s(5748),m=s(1584);const u="CustomTooltip_tooltipContainer__C9n90",p="CustomTooltip_labelTitle__ypSNN",x="CustomTooltip_tooltipWrapper__yKS5z",f="CustomTooltip_tooltipItem__d9mSs",j="CustomTooltip_variation__flyk1",_="CustomTooltip_colorCircle__YqQEo";var C=s(221),y=s(579);const g=()=>(0,y.jsx)(C.ZpW,{}),b=()=>(0,y.jsx)(C.nih,{}),N=()=>(0,y.jsx)(C.R2D,{}),S={allVariations:{value:"all",label:"All variations selected"},periods:[{value:"Day",label:"Day"},{value:"Week",label:"Week"}],lineType:[{value:"linear",label:"Linear"},{value:"monotone",label:"Smooth"},{value:"area",label:"Area"}]},w=e=>{const{active:t,payload:s,label:a}=e;if(!t||!s)return null;const i=[...s].sort((e,t)=>{var s,a;return(null!==(s=t.value)&&void 0!==s?s:0)-(null!==(a=e.value)&&void 0!==a?a:0)});return(0,y.jsxs)("div",{className:u,children:[(0,y.jsxs)("div",{className:p,children:[(0,y.jsx)(b,{}),a]}),(0,y.jsx)("div",{className:x,children:i.map((e,t)=>(0,y.jsxs)("div",{className:f,children:[(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)("div",{className:_,style:{backgroundColor:e.color}}),(0,y.jsx)("span",{children:e.name}),0===t&&(0,y.jsx)("span",{children:(0,y.jsx)(g,{})})]}),(0,y.jsxs)("div",{children:[e.value,"%"]},e.dataKey)]},e.dataKey))})]})};var k=s(454);const R={mainContainer:"LineChartReact_mainContainer__MDC-o",headerActions:"LineChartReact_headerActions__2-D+h",variationsSelector:"LineChartReact_variationsSelector__tzbfu",periodsSelector:"LineChartReact_periodsSelector__f1Pcf",lineTypeSelector:"LineChartReact_lineTypeSelector__9MjUp",downloadBtn:"LineChartReact_downloadBtn__Msbf3",chartContainer:"LineChartReact_chartContainer__6bt9x",lineChart:"LineChartReact_lineChart__x9Ah8"};const D=e=>{if(!e)return;const t=document.createElement("style");t.textContent=function(){let e="";for(const s of document.styleSheets)try{for(const t of s.cssRules)e+=t.cssText}catch(t){}return e}(),e.prepend(t);const s=(new XMLSerializer).serializeToString(e);t.remove();const a=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(a),n=new Image;n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const t=e.getContext("2d");t&&(t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),t.drawImage(n,0,0));const s=e.toDataURL("image/png"),a=document.createElement("a");a.download="chart.png",a.href=s,a.click(),URL.revokeObjectURL(i)},n.src=i},T={0:"#8884d8",10001:"#82ca9d",10002:"#3f69bc",10003:"#ecbf12"},A=S.allVariations.value,L=()=>{const[e,t]=(0,a.useState)("linear"),[s,u]=(0,a.useState)([A]),[p,x]=(0,a.useState)("Day"),{formattedData:f,variationKeys:j,variationNameByKey:_}="Day"===p?(e=>{const t={},s=[];return e.variations.forEach(e=>{const a=void 0!==e.id?e.id.toString():"0";s.push(a),t[a]=e.name}),{formattedData:e.data.map(e=>{const t={date:e.date};return s.forEach(s=>{const a=e.visits[s],i=e.conversions[s];t[s]=void 0===a||void 0===i?null:0===a?0:(i/a*100).toFixed(2)}),t}),variationKeys:s,variationNameByKey:t}})(i):(e=>{const t={},s=[],a={};return e.variations.forEach(e=>{const a=void 0!==e.id?e.id.toString():"0";s.push(a),t[a]=e.name}),e.data.forEach(e=>{const t=new Date(e.date),i=t.getFullYear(),n=t.getMonth()+1,o=Math.ceil(((t.getTime()-new Date(i,0,1).getTime())/864e5+new Date(i,0,1).getDay()+1)/7),r="".concat(i,"-").concat(n,"-W").concat(o);a[r]||(a[r]={visits:{},conversions:{}}),s.forEach(t=>{const s=e.visits[t],i=e.conversions[t];a[r].visits[t]=(a[r].visits[t]||0)+(null!==s&&void 0!==s?s:0),a[r].conversions[t]=(a[r].conversions[t]||0)+(null!==i&&void 0!==i?i:0)})}),{formattedData:Object.entries(a).map(e=>{let[t,a]=e;const i={date:t};return s.forEach(e=>{const t=a.visits[e],s=a.conversions[e];if(0===t)return i[e]=0;i[e]=+(s/t*100).toFixed(2)}),i}),variationKeys:s,variationNameByKey:t}})(i),C=s[0]===A?j:s,g=(0,a.useRef)(null);return(0,y.jsxs)("div",{className:R.mainContainer,children:[(0,y.jsxs)("div",{className:R.headerActions,children:[(0,y.jsxs)("div",{className:R.selectorsContainer,children:[(0,y.jsx)(k.A,{mode:"multiple",className:R.variationsSelector,defaultValue:[A],options:[S.allVariations,...j.map(e=>({value:e,label:_[e]}))],onChange:e=>{if(0!==e.length)if(e.length===j.length||e[e.length-1]===A)u([A]);else if(e[0]===A){const t=e.filter(e=>e!==A);u(t)}else u(e)},value:s}),(0,y.jsx)(k.A,{className:R.periodsSelector,options:S.periods,onChange:x,value:p})]}),(0,y.jsxs)("div",{className:R.buttonsContainer,children:[(0,y.jsx)(k.A,{className:R.lineTypeSelector,onChange:t,options:S.lineType,value:e}),(0,y.jsx)("button",{className:R.downloadBtn,onClick:()=>{D(g.current)},children:(0,y.jsx)(N,{})})]})]}),(0,y.jsx)("h3",{style:{textAlign:"center",marginBottom:12},children:"Conversion Rate by Variations"}),(0,y.jsx)("div",{className:R.chartContainer,children:(0,y.jsx)(n.u,{width:"100%",height:"100%",children:"area"===e?(0,y.jsxs)(o.Q,{className:R.lineChart,ref:g,data:f,children:[(0,y.jsx)(r.d,{strokeDasharray:"3 3"}),(0,y.jsx)(c.W,{dataKey:"date"}),(0,y.jsx)(l.h,{width:"auto",tickFormatter:e=>"".concat(e,"%")}),(0,y.jsx)(d.m,{content:(0,y.jsx)(w,{})}),C.map(e=>(0,y.jsx)(v.Gk,{dataKey:e,name:_[e],stroke:T[e],fill:T[e]+"33",isAnimationActive:!0},e))]},C.join("-")+e):(0,y.jsxs)(h.b,{className:R.lineChart,ref:g,data:f,children:[(0,y.jsx)(r.d,{strokeDasharray:"3 3"}),(0,y.jsx)(c.W,{dataKey:"date"}),(0,y.jsx)(l.h,{width:"auto",tickFormatter:e=>"".concat(e,"%")}),(0,y.jsx)(d.m,{content:(0,y.jsx)(w,{})}),C.map(t=>(0,y.jsx)(m.N,{dataKey:t,name:_[t],type:e,dot:!1,stroke:T[t],isAnimationActive:!0},t))]},C.join("-")+e)})})]})}}}]);
//# sourceMappingURL=367.81f7b414.chunk.js.map