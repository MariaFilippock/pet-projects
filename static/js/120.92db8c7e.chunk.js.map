{"version":3,"file":"static/js/120.92db8c7e.chunk.js","mappings":"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","sources":["pages/FilmopoiskReact/components/MovieList/StartMovieList.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieList/MovieList.module.scss?c236","pages/FilmopoiskReact/components/MovieList/MovieList.tsx"],"sourcesContent":["import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {IAppState, useAppDispatch} from 'store/index';\nimport {MovieList} from 'pages/FilmopoiskReact/components/MovieList/MovieList';\nimport {setStartMovieList} from 'store/reducers/startMovieList-reducer';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\nimport common from 'pages/FilmopoiskReact/FilmopoiskReact.module.scss';\n\nconst StartMovieList = () => {\n    const { startMoviesList, isLoading } = useSelector(\n        (state: IAppState) => state.startMoviesList\n    );\n    const {pages, chosenPage} = useSelector((state: IAppState) => {\n        const pages = state.startMoviesList.pagination.pages ?? 1;\n        const chosenPage = state.startMoviesList.pagination.chosenPage ?? 1;\n\n        return {pages, chosenPage};\n    });\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handlePageClick = (page: number) => {\n        if (!page) {\n            return;\n        }\n\n        dispatch(setStartMovieList(page));\n    };\n\n    const handleSearchMovieById = (id: number) => {\n        if (!id) return;\n\n        navigate(`${ROUTES.MOVIE_CARD}/${id}`);\n    };\n\n    const handleNextPageClick = () => {\n        const nextPage = chosenPage + 1;\n\n        if (nextPage > pages) {\n            return;\n        }\n\n        dispatch(setStartMovieList(nextPage));\n    };\n\n    const handlePreviousPageClick = () => {\n        const previousPage = chosenPage - 1;\n\n        if (previousPage < 1) {\n            return;\n        }\n\n        dispatch(setStartMovieList(previousPage));\n    };\n\n    if (isLoading) {\n        return <div className={common.preloaderWrapper}>\n            <div className={common.preloader}></div>\n        </div>\n    }\n\n    return <MovieList\n        onPageClick={handlePageClick}\n        onSearchMovieById={handleSearchMovieById}\n        movieList={startMoviesList}\n        onNextPageClick={handleNextPageClick}\n        onPreviousPageClick={handlePreviousPageClick}\n        pages={pages}\n        chosenPage={chosenPage}\n        title={'Рекомендуем присмотреться к фильмам из подборки ТОП-250:'}\n    />\n}\n\nexport default StartMovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__gr4hc\",\"recommend-message\":\"MovieList_recommend-message__Knbb0\",\"pagination\":\"MovieList_pagination__7Qmif\",\"page\":\"MovieList_page__Ntnhe\",\"next\":\"MovieList_next__WMzAj\",\"active\":\"MovieList_active__UVynN\",\"filterMessage\":\"MovieList_filterMessage__4alXf\",\"startMovieListTitle\":\"MovieList_startMovieListTitle__MTGlR\"};","import React from 'react';\nimport styles from './MovieList.module.scss';\nimport {IoChevronBackOutline, IoChevronForwardOutline} from 'react-icons/io5';\nimport {CORNER_PAGE_COUNT, ELLIPSIS, MAX_PAGES_COUNT} from '../../const';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\n\nconst BackOutline = IoChevronBackOutline;\nconst ForwardOutline = IoChevronForwardOutline;\n\nexport const calculatePagination = (pages: number, chosenPage: number) => {\n    let pagination: (number | string)[] = [];\n\n    if (pages < MAX_PAGES_COUNT) {\n        pagination = [...Array(pages).keys()].map((i) => i + 1);\n    } else if (chosenPage < CORNER_PAGE_COUNT) {\n        pagination = [...Array(CORNER_PAGE_COUNT).keys()].map((i) => i + 1);\n        pagination.push(ELLIPSIS, pages);\n    } else if (pages - chosenPage < CORNER_PAGE_COUNT - 1) {\n        pagination = [1, ELLIPSIS, pages - 4, pages - 3, pages - 2, pages - 1, pages];\n    } else {\n        pagination = [\n            1,\n            ELLIPSIS,\n            chosenPage - 1,\n            chosenPage,\n            chosenPage + 1,\n            ELLIPSIS,\n            pages,\n        ];\n    }\n    return pagination;\n};\n\ninterface IProps {\n    onPageClick: (page: number) => void;\n    onSearchMovieById: (id: number) => void;\n    movieList: IMovie[];\n    onNextPageClick: () => void;\n    onPreviousPageClick: () => void;\n    pages: number;\n    chosenPage: number;\n    title?: string;\n}\n\nexport const MovieList: React.FC<IProps> = ({onPageClick, onSearchMovieById, movieList, onNextPageClick, onPreviousPageClick, pages, chosenPage, title}) => {\n     return (\n        <div>\n            {title && <h2 className={styles.startMovieListTitle}>{title}</h2>}\n            {movieList.length === 0 && <div className={styles.filterMessage}>Ничего не найдено по выбранным фильтрам. Попробуйте выбрать другие фильтры.</div>}\n            <div className={styles.movieList}>\n                {movieList.map((item) => {\n                    return (\n                        <div\n                            key={item.id}\n                            onClick={() => onSearchMovieById(item.id)}\n                        >\n                            <img src={item.poster?.url || ''} alt={item.name}/>\n                            <span>{item.name}</span>\n                        </div>\n                    );\n                })}\n            </div>\n\n            <div className={styles.pagination}>\n                <span id={'previousPage'} onClick={onPreviousPageClick}>\n                    <BackOutline className={styles.next}/>\n                </span>\n                {calculatePagination(pages, chosenPage).map((page) => {\n                    return (\n                        <span\n                            className={`${styles.page} ${\n                                page === chosenPage ? styles.active : ''\n                            }`}\n                            key={page === ELLIPSIS ? 'ellipsis' : page}\n                            onClick={\n                                page !== ELLIPSIS\n                                    ? () =>\n                                        onPageClick(page as number)\n                                    : undefined\n                            }\n                        >\n                        {page}\n                        </span>);\n                })\n               }\n                <span id={'nextPage'} onClick={onNextPageClick}>\n                    <ForwardOutline className={styles.next}/>\n                </span>\n            </div>\n        </div>\n    );\n};\n"],"names":["StartMovieList","startMoviesList","isLoading","useSelector","state","pages","chosenPage","_state$startMoviesLis","_state$startMoviesLis2","pagination","dispatch","useAppDispatch","navigate","useNavigate","_jsx","className","common","preloaderWrapper","children","preloader","MovieList","onPageClick","page","setStartMovieList","onSearchMovieById","id","concat","ROUTES","MOVIE_CARD","movieList","onNextPageClick","handleNextPageClick","nextPage","onPreviousPageClick","handlePreviousPageClick","previousPage","title","BackOutline","IoChevronBackOutline","ForwardOutline","IoChevronForwardOutline","calculatePagination","MAX_PAGES_COUNT","Array","keys","map","i","CORNER_PAGE_COUNT","push","ELLIPSIS","_ref","_jsxs","styles","length","item","_item$poster","onClick","src","poster","url","alt","name","undefined"],"sourceRoot":""}