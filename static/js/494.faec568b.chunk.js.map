{"version":3,"file":"static/js/494.faec568b.chunk.js","mappings":"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","sources":["webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieCard/MovieCard.module.scss?43aa","webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieCard/MovieMainInfo/MovieMainInfo.module.scss?359e","pages/FilmopoiskReact/components/MovieCard/MovieMainInfo/MovieMainInfo.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieCard/VideoPlayer/VideoPlayer.module.scss?f6d8","pages/FilmopoiskReact/components/MovieCard/VideoPlayer/VideoPlayer.tsx","webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieCard/RatingInfo/RatingInfo.module.scss?9d20","pages/FilmopoiskReact/components/MovieCard/RatingInfo/RatingInfo.tsx","pages/FilmopoiskReact/components/MovieCard/MovieCard.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapperJoinColumn\":\"MovieCard_wrapperJoinColumn__sL93Y\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapperJoinRow\":\"MovieMainInfo_wrapperJoinRow__bw9y+\",\"poster\":\"MovieMainInfo_poster__eVj3G\",\"addToFavorites\":\"MovieMainInfo_addToFavorites__utXdf\",\"favoritesImg\":\"MovieMainInfo_favoritesImg__W2xsv\",\"mainMovieInfo\":\"MovieMainInfo_mainMovieInfo__+yW-7\",\"title\":\"MovieMainInfo_title__YbJpl\",\"subtitle\":\"MovieMainInfo_subtitle__cFWmK\",\"description\":\"MovieMainInfo_description__FLEk1\",\"subcontainer\":\"MovieMainInfo_subcontainer__TV32h\",\"params\":\"MovieMainInfo_params__EMgLq\",\"tag\":\"MovieMainInfo_tag__i-cQH\",\"textMuted\":\"MovieMainInfo_textMuted__kWtVg\",\"btn\":\"MovieMainInfo_btn__vOOHx\"};","import React from 'react';\nimport styles from './MovieMainInfo.module.scss';\nimport {AiFillHeart, AiOutlineHeart} from 'react-icons/ai';\nimport {useSelector} from 'react-redux';\nimport {toggleFavoriteMovieAC} from 'store/reducers/movieCard-reducer';\nimport {IAppState, useAppDispatch} from 'store';\nimport {setMovieFilter} from 'store/reducers/movieList-reducer';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\n\nlet countHoursAndMinutes = (minutes?: number, tvMinutes?: number): string => {\n    if (minutes) {\n        const hours = Math.floor(minutes / 60);\n        const mins = minutes % 60;\n        return hours\n            ? `${minutes} мин. / ${hours} ч ${mins} мин.`\n            : `${minutes} мин.`;\n    }\n    return tvMinutes != null ? `${tvMinutes} мин.` : `0 мин.`;\n};\n\ninterface IProps {\n    movie: IMovie;\n    isFavorite: boolean;\n}\n\n/** Информация по фильму */\nexport const MovieMainInfo: React.FC<IProps> = ({movie, isFavorite}) => {\n    const filters = useSelector(\n        (state: IAppState) => state.movieList.sideBarFilter\n    );\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n    const {id, name, poster}: IMovie = movie;\n\n    const getHandleChangeGenresFilter = (genre: string) => {\n        dispatch(setMovieFilter({...filters, genre}, 1));\n        navigate(ROUTES.FILTERED_LIST);\n    };\n\n    const handleToggleFavouriteMovie = () => {\n        dispatch(\n            toggleFavoriteMovieAC({\n                id,\n                name,\n                poster,\n            })\n        );\n    };\n\n    return (\n        <div className={styles.wrapperJoinRow}>\n            <div className={styles.poster}>\n                <img src={movie.poster?.url || ''} alt={''}/>\n            </div>\n            <div className={styles.mainMovieInfo}>\n                <div\n                    onClick={handleToggleFavouriteMovie}\n                    className={styles.addToFavorites}\n                >\n                    {isFavorite ? (\n                        <>\n                            Убрать из избранного{' '}\n                            <AiFillHeart  className={styles.favoritesImg}/>\n                        </>\n                    ) : (\n                        <>\n                            Добавить в избранное{' '}\n                            <AiOutlineHeart className={styles.favoritesImg}/>\n                        </>\n                    )}\n                </div>\n                <h1 className={styles.title}>\n                    {movie?.name} ({movie?.year})\n                </h1>\n\n                <h6 className={styles.subtitle}>\n                    {movie.alternativeName ? movie.alternativeName : ''}{' '}\n                    {Number(movie.ageRating) > 0 ? movie.ageRating?.toFixed(0) : `0`}+\n                </h6>\n                <p className={styles.description}>\n                    {movie.shortDescription ? movie.shortDescription : ''}\n                </p>\n\n                <div className={styles.subcontainer}>\n                    <a className={styles.btn}>Смотреть</a>\n                </div>\n\n                <ul className={styles.params + ' ' + styles.subcontainer}>\n                    <li>\n                        <span className={styles.textMuted}>Формат </span>{' '}\n                        {movie.isSeries ? `Сериал` : `Фильм`}\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Аудиодорожки </span>Русский\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Возраст </span>\n                        <span>\n              <span className={styles.tag}>\n                {Number(movie.ageRating) > 0\n                    ? movie.ageRating?.toFixed(0)\n                    : `0`}\n                  +\n              </span>\n            </span>\n                    </li>\n                </ul>\n\n                <h2>О фильме</h2>\n\n                <ul className={styles.params}>\n                    <li>\n                        <span className={styles.textMuted}>Год производства </span>\n                        {movie.year}\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Страна </span>\n                        {movie.countries?.[0]?.name || ''}\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Жанр </span>\n                        <span className={styles.genresList}>\n              {movie.genres?.map((genreItem, index, array) => (\n                  <span\n                      key={genreItem.name}\n                      onClick={() => getHandleChangeGenresFilter(genreItem.name)}\n                  >\n                  <a>{genreItem.name}</a>\n                      {index < array.length - 1 && ', '}\n                </span>\n              ))}\n            </span>\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Длительность </span>\n                        <time className={styles.textMuted}>\n                            {countHoursAndMinutes(movie?.movieLength ?? 0, movie?.seriesLength ?? 0)}\n                        </time>\n                    </li>\n                    <li>\n                        <span className={styles.textMuted}>Описание </span>\n                        {movie.description}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"undefinedVideo\":\"VideoPlayer_undefinedVideo__+5Lyq\",\"videoPlayer\":\"VideoPlayer_videoPlayer__ZFoO3\",\"iframePlayer\":\"VideoPlayer_iframePlayer__lGCEo\",\"similarMoviesContainer\":\"VideoPlayer_similarMoviesContainer__+PyFN\",\"similarMovieTitle\":\"VideoPlayer_similarMovieTitle__th4fM\",\"similarMovieItem\":\"VideoPlayer_similarMovieItem__bIlkd\",\"similarMoviePoster\":\"VideoPlayer_similarMoviePoster__bQPNd\",\"similarMovieName\":\"VideoPlayer_similarMovieName__j8hof\",\"similarMovieList\":\"VideoPlayer_similarMovieList__esql9\"};","import React, {useEffect, useState} from 'react';\nimport styles from './VideoPlayer.module.scss';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\n\ninterface IProps {\n    movie: IMovie;\n}\n\nexport const VideoPlayer: React.FC<IProps> = ({movie}) => {\n    const trailers = movie?.trailers?.filter((trailer) => trailer.url) || [];\n    const [selectedTrailerUrl, setSelectTrailerUrl] = useState('https://www.youtube.com/');\n    console.log(movie);\n    useEffect(() => {\n        setSelectTrailerUrl(trailers[0]?.url || '');\n    }, [movie.trailers]);\n\n    const handleChangeTrailer = (e: React.ChangeEvent<HTMLSelectElement>) => {\n        setSelectTrailerUrl(e.target.value);\n    };\n\n    return (\n        <div className={styles.videoPlayer}>\n            {movie.trailers?.length ? (\n                <>\n                    <select onChange={handleChangeTrailer} value={selectedTrailerUrl}>\n                        {trailers.map((trailer) => (\n                            <option\n                                key={`${trailer.url ? trailer.url : trailer.name}`}\n                                value={`${trailer.url ? trailer.url : trailer.name}`}\n                            >\n                                {trailer.name}\n                            </option>\n                        ))}\n                    </select>\n\n                    <iframe\n                        title={'Trailer'}\n                        className={styles.iframePlayer}\n                        src={selectedTrailerUrl}\n                    />\n                </>\n            ) : (\n                <div className={styles.undefinedVideo}>Видеоплеер отсутствует</div>\n            )}\n            {movie.similarMovies?.length && (\n                <div className={styles.similarMoviesContainer}>\n                    <h3 className={styles.similarMovieTitle}>Похожие фильмы</h3>\n                    <div className={styles.similarMovieList}>\n                        {movie.similarMovies.map((similarMovie) => (\n                            <div className={styles.similarMovieItem}>\n                                <img alt=\"Фильм\" className={styles.similarMoviePoster} src={similarMovie?.poster?.url || ''}/>\n                                <div className={styles.similarMovieName}>${similarMovie.name}</div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"ratingMain\":\"RatingInfo_ratingMain__H3-ax\",\"ratingCounts\":\"RatingInfo_ratingCounts__gmicK\",\"rating-details\":\"RatingInfo_rating-details__gNaOG\",\"ratingInfoColumn\":\"RatingInfo_ratingInfoColumn__2vEnT\",\"favoritesTitle\":\"RatingInfo_favoritesTitle__IRhqu\",\"favoriteMovieItem\":\"RatingInfo_favoriteMovieItem__Hr4uw\",\"favoriteMoviePoster\":\"RatingInfo_favoriteMoviePoster__kexug\",\"favoriteMovieName\":\"RatingInfo_favoriteMovieName__EVPEH\"};","import React from 'react';\nimport styles from './RatingInfo.module.scss';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\n\ninterface IProps {\n    movie: IMovie;\n    favoriteMovieList: IMovie[];\n}\n\nexport const RatingInfo: React.FC<IProps> = ({movie, favoriteMovieList}) => {\n    const navigate = useNavigate();\n\n    const handleSearchMovieById = (e: React.MouseEvent<HTMLDivElement>) => {\n        const id = Number(e.currentTarget.getAttribute('data-film-id'));\n\n        if (!id) return;\n\n        navigate(`${ROUTES.MOVIE_CARD}/${id}`);\n    };\n\n    return (\n        <div className={styles.ratingInfoColumn}>\n            <span className={styles.ratingMain}>{movie.rating?.kp?.toFixed(1)}</span>\n            <span className={styles.ratingCounts}>\n        {movie.votes?.kp?.toLocaleString()} оценки\n      </span>\n            <a className={styles.ratingDetails}>\n                {movie.votes?.filmCritics} рецензий\n            </a>\n\n            {favoriteMovieList.length ? (\n                <>\n                    <h4 className={styles.favoritesTitle}> Мое избранное </h4>\n                    {favoriteMovieList.map((favMovie) => (\n                            <div\n                                className={styles.favoriteMovieItem}\n                                data-film-id={favMovie.id}\n                                key={'favorite' + favMovie.id}\n                                onClick={handleSearchMovieById}\n                            >\n                                <img\n                                    className={styles.favoriteMoviePoster}\n                                    alt={''}\n                                    src={favMovie.poster?.url || ''}\n                                />\n                                <div className={styles.favoriteMovieName}>{favMovie.name}</div>\n                            </div>\n                        ))\n                    }\n                </>\n            ) : null}\n        </div>\n    );\n};\n","import React, {useEffect} from 'react';\nimport styles from './MovieCard.module.scss';\nimport common from '../../FilmopoiskReact.module.scss'\nimport {MovieMainInfo} from './MovieMainInfo/MovieMainInfo';\nimport {VideoPlayer} from './VideoPlayer/VideoPlayer';\nimport {RatingInfo} from './RatingInfo/RatingInfo';\nimport {useSelector} from 'react-redux';\nimport {IAppState, useAppDispatch} from 'store';\nimport {useParams} from 'react-router-dom';\nimport {getMovieById} from 'store/reducers/movieCard-reducer';\n\n/** Карточка с информацией по фильму (название, постер, описание) и видеоплеером */\nconst MovieCard = () => {\n    const dispatch = useAppDispatch();\n    const {id} = useParams<{ id: string }>();\n\n\n    useEffect(() => {\n        dispatch(getMovieById(Number(id)));\n    }, [id, dispatch]);\n\n    const {movie, favoritesMovieList, isLoading} = useSelector((state: IAppState) => state.movie ?? {});\n    const isFavorite = favoritesMovieList.some((favMovie) => favMovie.id === movie?.id\n    );\n\n    if (isLoading) {\n        return <div className={common.preloaderWrapper}>\n            <div className={common.preloader}></div>\n        </div>\n    }\n\n    return movie ? (\n                <>\n                    <div className={styles.wrapperJoinColumn}>\n                        <MovieMainInfo movie={movie} isFavorite={isFavorite}/>\n                        <VideoPlayer movie={movie}/>\n                    </div>\n                    <RatingInfo movie={movie} favoriteMovieList={favoritesMovieList}/>\n                </>\n            ) : null\n};\n\nexport default MovieCard;\n"],"names":["countHoursAndMinutes","minutes","tvMinutes","hours","Math","floor","mins","concat","MovieMainInfo","_ref","_movie$poster","_movie$ageRating","_movie$ageRating2","_movie$countries","_movie$countries$","_movie$genres","_movie$movieLength","_movie$seriesLength","movie","isFavorite","filters","useSelector","state","movieList","sideBarFilter","dispatch","useAppDispatch","navigate","useNavigate","id","name","poster","_jsxs","className","styles","wrapperJoinRow","children","_jsx","src","url","alt","mainMovieInfo","onClick","handleToggleFavouriteMovie","toggleFavoriteMovieAC","addToFavorites","_Fragment","AiFillHeart","favoritesImg","AiOutlineHeart","title","year","subtitle","alternativeName","Number","ageRating","toFixed","description","shortDescription","subcontainer","btn","params","textMuted","isSeries","tag","countries","genresList","genres","map","genreItem","index","array","getHandleChangeGenresFilter","genre","setMovieFilter","_objectSpread","ROUTES","FILTERED_LIST","length","movieLength","seriesLength","VideoPlayer","_movie$trailers","_movie$trailers2","_movie$similarMovies","trailers","filter","trailer","selectedTrailerUrl","setSelectTrailerUrl","useState","console","log","useEffect","_trailers$","onChange","e","target","value","similarMovies","similarMovie","_similarMovie$poster","RatingInfo","_movie$rating","_movie$rating$kp","_movie$votes","_movie$votes$kp","_movie$votes2","favoriteMovieList","handleSearchMovieById","currentTarget","getAttribute","MOVIE_CARD","ratingInfoColumn","ratingMain","rating","kp","ratingCounts","votes","toLocaleString","ratingDetails","filmCritics","favoritesTitle","favMovie","_favMovie$poster","favoriteMovieItem","favoriteMoviePoster","favoriteMovieName","MovieCard","useParams","getMovieById","favoritesMovieList","isLoading","_state$movie","some","common","preloaderWrapper","preloader"],"sourceRoot":""}