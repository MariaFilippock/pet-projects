{"version":3,"file":"static/js/120.c6434558.chunk.js","mappings":"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","sources":["webpack://portfolio/./src/pages/FilmopoiskReact/components/MovieList/MovieList.module.scss?c236","pages/FilmopoiskReact/components/MovieList/MovieList.tsx","pages/FilmopoiskReact/components/MovieList/StartMovieList.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__gr4hc\",\"recommend-message\":\"MovieList_recommend-message__Knbb0\",\"pagination\":\"MovieList_pagination__7Qmif\",\"page\":\"MovieList_page__Ntnhe\",\"next\":\"MovieList_next__WMzAj\",\"active\":\"MovieList_active__UVynN\",\"filterMessage\":\"MovieList_filterMessage__4alXf\",\"startMovieListTitle\":\"MovieList_startMovieListTitle__MTGlR\"};","import React from 'react';\nimport styles from './MovieList.module.scss';\nimport {IoChevronBackOutline, IoChevronForwardOutline} from 'react-icons/io5';\nimport {CORNER_PAGE_COUNT, ELLIPSIS, MAX_PAGES_COUNT} from '../../const';\nimport {IMovie} from 'pages/FilmopoiskReact/Models';\n\nconst BackOutline = IoChevronBackOutline;\nconst ForwardOutline = IoChevronForwardOutline;\n\nexport const calculatePagination = (pages: number, chosenPage: number) => {\n    let pagination: (number | string)[] = [];\n\n    if (pages < MAX_PAGES_COUNT) {\n        pagination = [...Array(pages).keys()].map((i) => i + 1);\n    } else if (chosenPage < CORNER_PAGE_COUNT) {\n        pagination = [...Array(CORNER_PAGE_COUNT).keys()].map((i) => i + 1);\n        pagination.push(ELLIPSIS, pages);\n    } else if (pages - chosenPage < CORNER_PAGE_COUNT - 1) {\n        pagination = [1, ELLIPSIS, pages - 4, pages - 3, pages - 2, pages - 1, pages];\n    } else {\n        pagination = [\n            1,\n            ELLIPSIS,\n            chosenPage - 1,\n            chosenPage,\n            chosenPage + 1,\n            ELLIPSIS,\n            pages,\n        ];\n    }\n    return pagination;\n};\n\ninterface IProps {\n    onPageClick: (page: number) => void;\n    onSearchMovieById: (id: number) => void;\n    movieList: IMovie[];\n    onNextPageClick: () => void;\n    onPreviousPageClick: () => void;\n    pages: number;\n    chosenPage: number;\n    title?: string;\n}\n\nexport const MovieList: React.FC<IProps> = ({onPageClick, onSearchMovieById, movieList, onNextPageClick, onPreviousPageClick, pages, chosenPage, title}) => {\n     return (\n        <div>\n            {title && <h2 className={styles.startMovieListTitle}>{title}</h2>}\n            {movieList.length === 0 && <div className={styles.filterMessage}>Ничего не найдено по выбранным фильтрам. Попробуйте выбрать другие фильтры.</div>}\n            <div className={styles.movieList}>\n                {movieList.map((item) => {\n                    return (\n                        <div\n                            key={item.id}\n                            onClick={() => onSearchMovieById(item.id)}\n                        >\n                            <img src={item.poster?.url || ''} alt={item.name}/>\n                            <span>{item.name}</span>\n                        </div>\n                    );\n                })}\n            </div>\n\n            <div className={styles.pagination}>\n                <span id={'previousPage'} onClick={onPreviousPageClick}>\n                    <BackOutline className={styles.next}/>\n                </span>\n                {calculatePagination(pages, chosenPage).map((page) => {\n                    return (\n                        <span\n                            className={`${styles.page} ${\n                                page === chosenPage ? styles.active : ''\n                            }`}\n                            key={page === ELLIPSIS ? 'ellipsis' : page}\n                            onClick={\n                                page !== ELLIPSIS\n                                    ? () =>\n                                        onPageClick(page as number)\n                                    : undefined\n                            }\n                        >\n                        {page}\n                        </span>);\n                })\n               }\n                <span id={'nextPage'} onClick={onNextPageClick}>\n                    <ForwardOutline className={styles.next}/>\n                </span>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {IAppState, useAppDispatch} from 'store/index';\nimport {MovieList} from 'pages/FilmopoiskReact/components/MovieList/MovieList';\nimport {setStartMovieList} from 'store/reducers/startMovieList-reducer';\nimport {useNavigate} from 'react-router-dom';\nimport {ROUTES} from 'pages/FilmopoiskReact/const';\nimport common from 'pages/FilmopoiskReact/FilmopoiskReact.module.scss';\n\nconst StartMovieList = () => {\n    const { startMoviesList, isLoading } = useSelector(\n        (state: IAppState) => state.startMoviesList\n    );\n    const {pages, chosenPage} = useSelector((state: IAppState) => {\n        const pages = state.startMoviesList.pagination.pages ?? 1;\n        const chosenPage = state.startMoviesList.pagination.chosenPage ?? 1;\n\n        return {pages, chosenPage};\n    });\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handlePageClick = (page: number) => {\n        if (!page) {\n            return;\n        }\n\n        dispatch(setStartMovieList(page));\n    };\n\n    const handleSearchMovieById = (id: number) => {\n        if (!id) return;\n\n        navigate(`${ROUTES.MOVIE_CARD}/${id}`);\n    };\n\n    const handleNextPageClick = () => {\n        const nextPage = chosenPage + 1;\n\n        if (nextPage > pages) {\n            return;\n        }\n\n        dispatch(setStartMovieList(nextPage));\n    };\n\n    const handlePreviousPageClick = () => {\n        const previousPage = chosenPage - 1;\n\n        if (previousPage < 1) {\n            return;\n        }\n\n        dispatch(setStartMovieList(previousPage));\n    };\n\n    if (isLoading) {\n        return <div className={common.preloaderWrapper}>\n            <div className={common.preloader}></div>\n        </div>\n    }\n\n    return <MovieList\n        onPageClick={handlePageClick}\n        onSearchMovieById={handleSearchMovieById}\n        movieList={startMoviesList}\n        onNextPageClick={handleNextPageClick}\n        onPreviousPageClick={handlePreviousPageClick}\n        pages={pages}\n        chosenPage={chosenPage}\n        title={'Рекомендуем присмотреться к фильмам из подборки ТОП-250:'}\n    />\n}\n\nexport default StartMovieList;\n"],"names":["BackOutline","IoChevronBackOutline","ForwardOutline","IoChevronForwardOutline","calculatePagination","pages","chosenPage","pagination","MAX_PAGES_COUNT","Array","keys","map","i","CORNER_PAGE_COUNT","push","ELLIPSIS","MovieList","_ref","onPageClick","onSearchMovieById","movieList","onNextPageClick","onPreviousPageClick","title","_jsxs","children","_jsx","className","styles","length","item","_item$poster","onClick","id","src","poster","url","alt","name","page","concat","undefined","StartMovieList","startMoviesList","isLoading","useSelector","state","_state$startMoviesLis","_state$startMoviesLis2","dispatch","useAppDispatch","navigate","useNavigate","common","preloaderWrapper","preloader","setStartMovieList","ROUTES","MOVIE_CARD","handleNextPageClick","nextPage","handlePreviousPageClick","previousPage"],"sourceRoot":""}