"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[225],{225:(e,i,s)=>{s.r(i),s.d(i,{default:()=>ae});var a=s(43);const n="FilmopoiskReact_bodyContainer__zzUKc",r="FilmopoiskReact_container__ZiT1c",t="FilmopoiskReact_wrapper__CicqJ",o="Header_header__8CcNz",l="Header_searchContainer__psMXn",d="Header_navBrand__EsjCI",c="Header_formSearch__mofwV",v="DropdownMovieList_dropdownContainer__MT9HQ",m="DropdownMovieList_dropdownListMovies__SXu0t",_="DropdownMovieList_dropdownMovieItem__bfg11",u="DropdownMovieList_dropdownMovieRating__1+zCR",x="DropdownMovieList_searchInput__LFRx5",p="DropdownMovieList_btnSearch__QgQIv";var h=s(3),j=s(811),g=s(816),M=s(561),f=s(434),N=s(214),I=s(579);const L=()=>{const[e,i]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),r=(0,h.d4)(e=>e.dropdownMovieList.loadedList),t=(0,g.j)(),o=e=>{i(!1);const s=e.currentTarget.id;s&&t((0,j.l)(s)),n("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("input",{onChange:e=>{e.preventDefault(),i(!0),n(e.target.value),t((0,N.CL)(e.target.value))},value:s,className:x,type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c\u044b",autoComplete:"off"}),(0,I.jsx)("div",{onClick:e=>{i(!1);const a=r.find(e=>e.name.toLowerCase()===s.toLowerCase());a&&(t((0,j.l)(a.id)),n(""))},className:p,children:(0,I.jsx)(f.fUO,{})}),(0,I.jsx)("div",{className:v,style:{marginTop:8},children:e&&(0,I.jsx)("div",{className:m,children:r.map(e=>{var i,s,a;return(0,I.jsxs)("div",{className:_,id:e.id,"data-name":e.name,onClick:o,children:[e.name,(0,I.jsx)("span",{className:u,children:Number(null===e||void 0===e||null===(i=e.rating)||void 0===i?void 0:i.kp)>0?null===(s=e.rating)||void 0===s||null===(a=s.kp)||void 0===a?void 0:a.toFixed(1):""})]},e.id)}).slice(0,M.ET)})})]})},C=()=>(0,I.jsx)("nav",{className:o,children:(0,I.jsxs)("div",{className:l,children:[(0,I.jsx)("div",{className:d,children:"\u0424\u0438\u043b\u044c\u043c\u043e\u043f\u043e\u0438\u0441\u043a"}),(0,I.jsx)("div",{className:c,children:(0,I.jsx)(L,{})})]})});var w=s(555);const y="SideBar_wrapper__NEfE5",k="SideBar_typesSearch__A3Dbh",F="SideBar_genresSearch__2IKW0",b="SideBar_yearSearch__Nqovv",R="SideBar_chosen__32uRV",T="SideBar_yearSearchTitle__shs23";var S=s(745);const D=()=>{const e=(0,h.d4)(e=>e.movieList.sideBarFilter),i=(0,g.j)(),s=Object.keys(M.EY.GenresMap);return(0,I.jsxs)("div",{className:y,children:[(0,I.jsx)("div",{className:k,children:M.EY.FilmTypes.map(s=>(0,I.jsx)("div",{id:s.id,className:"".concat(s.id===e.type?R:""),onClick:()=>(s=>{i((0,S.DM)((0,w.A)((0,w.A)({},e),{},{type:s}),1))})(s.id),children:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.icon,{}),s.text]})},s.id))}),(0,I.jsx)("div",{className:F,children:s.map(s=>(0,I.jsx)("div",{id:M.EY.GenresMap[s],className:"".concat(M.EY.GenresMap[s]===e.genre?R:""),onClick:()=>(s=>{i((0,S.DM)((0,w.A)((0,w.A)({},e),{},{genre:s}),1))})(M.EY.GenresMap[s]),children:M.EY.GenresMap[s]},s))}),(0,I.jsxs)("div",{className:b,children:[(0,I.jsx)("span",{className:T,children:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"}),(0,I.jsxs)("select",{onChange:s=>{const a=s.target.value;i((0,S.DM)((0,w.A)((0,w.A)({},e),{},{year:a}),1))},children:[(0,I.jsx)("option",{value:"all",children:"\u041b\u044e\u0431\u043e\u0439"},"all"),M.EY.years.map(e=>(0,I.jsx)("option",{value:e,children:e},e))]})]})]})},E="MovieList_movieList__gr4hc",A="MovieList_pagination__7Qmif",G="MovieList_page__Ntnhe",P="MovieList_next__WMzAj",B="MovieList_active__UVynN";var V=s(221);const H=V.pRN,Y=V.zBw,z=(e,i)=>{let s=[];return e<M.Ig?s=[...Array(e).keys()].map(e=>e+1):i<M.sM?(s=[...Array(M.sM).keys()].map(e=>e+1),s.push(M.Gr,e)):s=e-i<M.sM-1?[1,M.Gr,e-4,e-3,e-2,e-1,e]:[1,M.Gr,i-1,i,i+1,M.Gr,e],s},J=()=>{const e=(0,h.d4)(e=>e.movieList.moviesList),{pages:i,chosenPage:s}=(0,h.d4)(e=>{var i,s;return{pages:null!==(i=e.movieList.pagination.pages)&&void 0!==i?i:1,chosenPage:null!==(s=e.movieList.pagination.chosenPage)&&void 0!==s?s:1}}),a=(0,h.d4)(e=>e.movieList.sideBarFilter),n=(0,g.j)(),r=e=>{const i=e.currentTarget.getAttribute("data-film-id");i&&n((0,j.l)(i))};return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:E,children:e.map(e=>{var i;return(0,I.jsxs)("div",{id:e.id,"data-film-id":e.id,onClick:r,children:[(0,I.jsx)("img",{src:null===(i=e.poster)||void 0===i?void 0:i.url,alt:e.name}),(0,I.jsx)("span",{children:e.name})]},e.id)})}),(0,I.jsxs)("div",{className:A,children:[(0,I.jsx)("span",{id:"previousPage",onClick:()=>{const e=s-1;e<1||n((0,S.DM)(a,e))},children:(0,I.jsx)(H,{className:P})}),z(i,s).map(e=>(0,I.jsx)("span",{className:"".concat(G," ").concat(e===s?B:""),onClick:e!==M.Gr?()=>(e=>{e&&n((0,S.DM)(a,e))})(e):void 0,children:e},e===M.Gr?"ellipsis":e)),(0,I.jsx)("span",{id:"nextPage",onClick:()=>{const e=s+1;e>i||n((0,S.DM)(a,e))},children:(0,I.jsx)(Y,{className:P})})]})]})},O="MovieCard_wrapperJoinColumn__sL93Y",W={wrapperJoinRow:"MovieMainInfo_wrapperJoinRow__bw9y+",poster:"MovieMainInfo_poster__eVj3G",addToFavorites:"MovieMainInfo_addToFavorites__utXdf",favoritesImg:"MovieMainInfo_favoritesImg__W2xsv",mainMovieInfo:"MovieMainInfo_mainMovieInfo__+yW-7",title:"MovieMainInfo_title__YbJpl",subtitle:"MovieMainInfo_subtitle__cFWmK",description:"MovieMainInfo_description__FLEk1",subcontainer:"MovieMainInfo_subcontainer__TV32h",params:"MovieMainInfo_params__EMgLq",tag:"MovieMainInfo_tag__i-cQH",textMuted:"MovieMainInfo_textMuted__kWtVg",btn:"MovieMainInfo_btn__vOOHx"};let q=(e,i)=>{if(null!=e&&0!==e){const i=Math.floor(e/60),s=e%60;return i?"".concat(e," \u043c\u0438\u043d. / ").concat(i," \u0447 ").concat(s," \u043c\u0438\u043d."):"".concat(e," \u043c\u0438\u043d.")}return null!=i?"".concat(i," \u043c\u0438\u043d."):"0 \u043c\u0438\u043d."};const Q=e=>{var i,s,a,n,r,t;let{movie:o,isFavorite:l}=e;const d=(0,h.d4)(e=>e.movieList.sideBarFilter),c=(0,g.j)(),{id:v,name:m,poster:_}=o;return(0,I.jsxs)("div",{className:W.wrapperJoinRow,children:[(0,I.jsx)("div",{className:W.poster,children:(0,I.jsx)("img",{src:null===(i=o.poster)||void 0===i?void 0:i.url,alt:""})}),(0,I.jsxs)("div",{className:W.mainMovieInfo,children:[(0,I.jsx)("div",{onClick:()=>{c((0,j.XS)({id:v,name:m,poster:_}))},className:W.addToFavorites,children:l?(0,I.jsxs)(I.Fragment,{children:["\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"," ",(0,I.jsx)(f.Sxb,{className:W.favoritesImg})]}):(0,I.jsxs)(I.Fragment,{children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"," ",(0,I.jsx)(f.DTR,{className:W.favoritesImg})]})}),(0,I.jsxs)("h1",{className:W.title,children:[null===o||void 0===o?void 0:o.name," (",null===o||void 0===o?void 0:o.year,")"]}),(0,I.jsxs)("h6",{className:W.subtitle,children:[o.alternativeName?o.alternativeName:""," ",Number(o.ageRating)>0?null===(s=o.ageRating)||void 0===s?void 0:s.toFixed(0):"0","+"]}),(0,I.jsx)("p",{className:W.description,children:o.shortDescription?o.shortDescription:""}),(0,I.jsx)("div",{className:W.subcontainer,children:(0,I.jsx)("a",{className:W.btn,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})}),(0,I.jsxs)("ul",{className:W.params+" "+W.subcontainer,children:[(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0424\u043e\u0440\u043c\u0430\u0442 "})," ",o.isSeries?"\u0421\u0435\u0440\u0438\u0430\u043b":"\u0424\u0438\u043b\u044c\u043c"]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0410\u0443\u0434\u0438\u043e\u0434\u043e\u0440\u043e\u0436\u043a\u0438 "}),"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 "}),(0,I.jsx)("span",{children:(0,I.jsxs)("span",{className:W.tag,children:[Number(o.ageRating)>0?null===(a=o.ageRating)||void 0===a?void 0:a.toFixed(0):"0","+"]})})]})]}),(0,I.jsx)("h2",{children:"\u041e \u0444\u0438\u043b\u044c\u043c\u0435"}),(0,I.jsxs)("ul",{className:W.params,children:[(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 "}),o.year]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0421\u0442\u0440\u0430\u043d\u0430 "}),(null===(n=o.countries)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.name)||""]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0416\u0430\u043d\u0440 "}),(0,I.jsx)("span",{className:W.genresList,children:null===(t=o.genres)||void 0===t?void 0:t.map((e,i,s)=>(0,I.jsxs)("span",{onClick:()=>{return i=e.name,void c((0,S.DM)((0,w.A)((0,w.A)({},d),{},{genre:i}),1));var i},children:[(0,I.jsx)("a",{children:e.name}),i<s.length-1&&", "]},e.name))})]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c "}),(0,I.jsx)("time",{className:W.textMuted,children:q(null===o||void 0===o?void 0:o.movieLength,null===o||void 0===o?void 0:o.seriesLength)})]}),(0,I.jsxs)("li",{children:[(0,I.jsx)("span",{className:W.textMuted,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "}),o.description]})]})]})]})},K="VideoPlayer_undefinedVideo__+5Lyq",X="VideoPlayer_videoPlayer__ZFoO3",U="VideoPlayer_iframePlayer__lGCEo",Z=e=>{var i,s;let{movie:n}=e;const r=(null===n||void 0===n||null===(i=n.trailers)||void 0===i?void 0:i.filter(e=>e.url))||[],[t,o]=(0,a.useState)("https://www.youtube.com/");(0,a.useEffect)(()=>{var e;o((null===(e=r[0])||void 0===e?void 0:e.url)||"")},[n.trailers]);return(0,I.jsx)("div",{className:X,children:null!==(s=n.trailers)&&void 0!==s&&s.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("select",{onChange:e=>{o(e.target.value)},value:t,children:r.map(e=>(0,I.jsx)("option",{value:"".concat(e.url?e.url:e.name),children:e.name},"".concat(e.url?e.url:e.name)))}),(0,I.jsx)("iframe",{title:"Trailer",className:U,src:t})]}):(0,I.jsx)("div",{className:K,children:"\u0412\u0438\u0434\u0435\u043e\u043f\u043b\u0435\u0435\u0440 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})})},$={ratingMain:"RatingInfo_ratingMain__H3-ax",ratingCounts:"RatingInfo_ratingCounts__gmicK","rating-details":"RatingInfo_rating-details__gNaOG",ratingInfoColumn:"RatingInfo_ratingInfoColumn__2vEnT",favoritesTitle:"RatingInfo_favoritesTitle__IRhqu",favoriteMovieItem:"RatingInfo_favoriteMovieItem__Hr4uw",favoriteMoviePoster:"RatingInfo_favoriteMoviePoster__kexug",favoriteMovieName:"RatingInfo_favoriteMovieName__EVPEH"},ee=e=>{var i,s,a,n,r;let{movie:t,favoriteMovieList:o}=e;const l=(0,g.j)(),d=e=>{const i=e.currentTarget.getAttribute("data-film-id");i&&l((0,j.l)(i))};return(0,I.jsxs)("div",{className:$.ratingInfoColumn,children:[(0,I.jsx)("span",{className:$.ratingMain,children:null===(i=t.rating)||void 0===i||null===(s=i.kp)||void 0===s?void 0:s.toFixed(1)}),(0,I.jsxs)("span",{className:$.ratingCounts,children:[null===(a=t.votes)||void 0===a||null===(n=a.kp)||void 0===n?void 0:n.toLocaleString()," \u043e\u0446\u0435\u043d\u043a\u0438"]}),(0,I.jsxs)("a",{className:$.ratingDetails,children:[null===(r=t.votes)||void 0===r?void 0:r.filmCritics," \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0439"]}),(0,I.jsx)("h4",{className:$.favoritesTitle,children:" \u041c\u043e\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 "}),o.map(e=>{var i;return(0,I.jsxs)("div",{className:$.favoriteMovieItem,"data-film-id":e.id,onClick:d,children:[(0,I.jsx)("img",{className:$.favoriteMoviePoster,alt:"",src:null===(i=e.poster)||void 0===i?void 0:i.url}),(0,I.jsx)("div",{className:$.favoriteMovieName,children:e.name})]},"favorite"+e.id)})]})},ie=()=>{const{movie:e,favoritesMovieList:i}=(0,h.d4)(e=>{var i;return null!==(i=e.movie)&&void 0!==i?i:{}}),s=i.some(i=>i.id===(null===e||void 0===e?void 0:e.id));return(0,I.jsxs)(I.Fragment,{children:[e?(0,I.jsxs)("div",{className:O,children:[(0,I.jsx)(Q,{movie:e,isFavorite:s}),(0,I.jsx)(Z,{movie:e})]}):null,e&&i.length?(0,I.jsx)(ee,{movie:e,favoriteMovieList:i}):null]})};var se=s(820);const ae=()=>{const e=(0,h.d4)(e=>e.pageType.pageType);return(0,I.jsxs)("div",{className:n,children:[(0,I.jsx)(C,{}),(0,I.jsxs)("div",{className:r,children:[(0,I.jsx)(D,{}),(0,I.jsx)("div",{id:"wrapper",className:t,children:e===se.z.FilmList?(0,I.jsx)(J,{}):(0,I.jsx)(ie,{})})]})]})}}}]);
//# sourceMappingURL=225.a44eb7f8.chunk.js.map