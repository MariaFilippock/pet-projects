{"version":3,"file":"static/js/947.1ac0835f.chunk.js","mappings":"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","sources":["pages/LineChart/Data.ts","webpack://portfolio/./src/pages/LineChart/CustomTooltip.module.scss?f3ed","pages/LineChart/CustomTooltip.tsx","pages/LineChart/Model.ts","pages/LineChart/const.tsx","webpack://portfolio/./src/pages/LineChart/LineChartReact.module.scss?124f","pages/LineChart/Utils.ts","pages/LineChart/LineChartReact.tsx"],"sourcesContent":["export const LineChartData = {\n    \"variations\":\n        [\n            {\n                \"name\": \"Original\"\n            },\n            {\n                \"id\": 10001,\n                \"name\": \"Variation A\",\n            },\n            {\n                \"id\": 10002,\n                \"name\": \"Variation B\"\n            },\n            {\n                \"id\": 10003,\n                \"name\": \"Variation C\"\n            }\n        ],\n    \"data\":\n        [\n            {\n                \"date\": \"2025-01-01\",\n                \"visits\": {\"0\": 1866, \"10002\": 1957, \"10003\": 1750},\n                \"conversions\": {\"0\": 158, \"10002\": 463, \"10003\": 491}\n            },\n            {\n                \"date\": \"2025-01-02\",\n                \"visits\": {\"0\": 1547, \"10002\": 1968, \"10003\": 1160},\n                \"conversions\": {\"0\": 173, \"10002\": 504, \"10003\": 320}\n            },\n            {\n                \"date\": \"2025-01-03\",\n                \"visits\": {\"0\": 1125, \"10002\": 1642, \"10003\": 1775},\n                \"conversions\": {\"0\": 120, \"10002\": 413, \"10003\": 473}\n            },\n            {\n                \"date\": \"2025-01-04\",\n                \"visits\": {\"0\": 1779, \"10002\": 1763, \"10003\": 1031},\n                \"conversions\": {\"0\": 243, \"10002\": 404, \"10003\": 257}\n            },\n            {\n                \"date\": \"2025-01-05\",\n                \"visits\": {\"0\": 1276, \"10002\": 1634, \"10003\": 1101},\n                \"conversions\": {\"0\": 150, \"10002\": 344, \"10003\": 246}\n            },\n            {\n                \"date\": \"2025-01-06\",\n                \"visits\": {\"0\": 1479, \"10001\": 1502, \"10002\": 1388, \"10003\": 1661},\n                \"conversions\": {\"0\": 172, \"10001\": 271, \"10002\": 280, \"10003\": 326}\n            },\n            {\n                \"date\": \"2025-01-07\",\n                \"visits\": {\"0\": 1409, \"10001\": 1400, \"10002\": 1347, \"10003\": 1616},\n                \"conversions\": {\"0\": 199, \"10001\": 227, \"10002\": 252, \"10003\": 261}\n            },\n            {\n                \"date\": \"2025-01-08\",\n                \"visits\": {\"0\": 1756, \"10001\": 1229, \"10002\": 1053, \"10003\": 1629},\n                \"conversions\": {\"0\": 216, \"10001\": 191, \"10002\": 153, \"10003\": 219}\n            },\n            {\n                \"date\": \"2025-01-09\",\n                \"visits\": {\"0\": 1981, \"10001\": 1781, \"10002\": 1322, \"10003\": 1659},\n                \"conversions\": {\"0\": 244, \"10001\": 267, \"10002\": 168, \"10003\": 166}\n            },\n            {\n                \"date\": \"2025-01-10\",\n                \"visits\": {\"0\": 1345, \"10001\": 1672, \"10002\": 1574, \"10003\": 1525},\n                \"conversions\": {\"0\": 149, \"10001\": 200, \"10002\": 174, \"10003\": 121}\n            },\n            {\n                \"date\": \"2025-01-11\",\n                \"visits\": {\"0\": 1542, \"10001\": 1283, \"10002\": 1424, \"10003\": 1189},\n                \"conversions\": {\"0\": 141, \"10001\": 141, \"10002\": 129, \"10003\": 64}\n            },\n            {\n                \"date\": \"2025-01-12\",\n                \"visits\": {\"0\": 1539, \"10001\": 1084, \"10002\": 1558, \"10003\": 1142},\n                \"conversions\": {\"0\": 135, \"10001\": 84, \"10002\": 97, \"10003\": 153}\n            },\n            {\n                \"date\": \"2025-01-13\",\n                \"visits\": {\"0\": 1099, \"10001\": 1832, \"10002\": 1410, \"10003\": 1353},\n                \"conversions\": {\"0\": 73, \"10001\": 282, \"10002\": 131, \"10003\": 59}\n            },\n            {\n                \"date\": \"2025-01-14\",\n                \"visits\": {\"0\": 1842, \"10001\": 1413, \"10002\": 1821, \"10003\": 1885},\n                \"conversions\": {\"0\": 108, \"10001\": 63, \"10002\": 93, \"10003\": 108}\n            },\n            {\n                \"date\": \"2025-01-15\",\n                \"visits\": {\"0\": 1069, \"10001\": 1867, \"10003\": 1154},\n                \"conversions\": {\"0\": 137, \"10001\": 75, \"10003\": 68}\n            },\n            {\n                \"date\": \"2025-01-16\",\n                \"visits\": {\"0\": 1271, \"10001\": 1676, \"10003\": 1839},\n                \"conversions\": {\"0\": 53, \"10001\": 55, \"10003\": 274}\n            },\n            {\n                \"date\": \"2025-01-17\",\n                \"visits\": {\"0\": 1845, \"10001\": 1057, \"10003\": 1639},\n                \"conversions\": {\"0\": 32, \"10001\": 47, \"10003\": 183}\n            },\n            {\n                \"date\": \"2025-01-18\",\n                \"visits\": {\"0\": 1463, \"10001\": 1483, \"10002\": 1830, \"10003\": 1497},\n                \"conversions\": {\"0\": 35, \"10001\": 36, \"10002\": 128, \"10003\": 207}\n            },\n            {\n                \"date\": \"2025-01-19\",\n                \"visits\": {\"0\": 1088, \"10001\": 1720, \"10002\": 1721, \"10003\": 1796},\n                \"conversions\": {\"0\": 35, \"10001\": 74, \"10002\": 169, \"10003\": 286}\n            },\n            {\n                \"date\": \"2025-01-20\",\n                \"visits\": {\"0\": 1684, \"10001\": 1515, \"10002\": 1471, \"10003\": 1286},\n                \"conversions\": {\"0\": 36, \"10001\": 73, \"10002\": 158, \"10003\": 259}\n            },\n            {\n                \"date\": \"2025-01-21\",\n                \"visits\": {\"0\": 1105, \"10001\": 1800, \"10002\": 1040, \"10003\": 1785},\n                \"conversions\": {\"0\": 45, \"10001\": 135, \"10002\": 146, \"10003\": 401}\n            },\n            {\n                \"date\": \"2025-01-22\",\n                \"visits\": {\"0\": 1413, \"10001\": 1737, \"10002\": 1958, \"10003\": 1161},\n                \"conversions\": {\"0\": 66, \"10001\": 134, \"10002\": 311, \"10003\": 286}\n            },\n            {\n                \"date\": \"2025-01-23\",\n                \"visits\": {\"0\": 1470, \"10001\": 1405, \"10002\": 1413, \"10003\": 1697},\n                \"conversions\": {\"0\": 94, \"10001\": 154, \"10002\": 276, \"10003\": 477}\n            },\n            {\n                \"date\": \"2025-01-24\",\n                \"visits\": {\"0\": 1015, \"10001\": 1555, \"10002\": 1320, \"10003\": 1977},\n                \"conversions\": {\"0\": 75, \"10001\": 365, \"10002\": 273, \"10003\": 565}\n            },\n            {\n                \"date\": \"2025-01-25\",\n                \"visits\": {\"0\": 1292, \"10001\": 1994, \"10002\": 1879, \"10003\": 1755},\n                \"conversions\": {\"0\": 107, \"10001\": 269, \"10002\": 433, \"10003\": 497}\n            },\n            {\n                \"date\": \"2025-01-26\",\n                \"visits\": {\"0\": 1128, \"10001\": 1714, \"10002\": 1786, \"10003\": 0},\n                \"conversions\": {\"0\": 96, \"10001\": 289, \"10002\": 416, \"10003\": 0}\n            },\n            {\n                \"date\": \"2025-01-27\",\n                \"visits\": {\"0\": 1691, \"10001\": 1085, \"10002\": 1147, \"10003\": 0},\n                \"conversions\": {\"0\": 175, \"10001\": 190, \"10002\": 284, \"10003\": 0}\n            },\n            {\n                \"date\": \"2025-01-28\",\n                \"visits\": {\"0\": 1001, \"10001\": 1238, \"10002\": 1002, \"10003\": 0},\n                \"conversions\": {\"0\": 114, \"10001\": 225, \"10002\": 234, \"10003\": 0}\n            },\n            {\n                \"date\": \"2025-01-29\",\n                \"visits\": {\"0\": 1213, \"10001\": 1546, \"10002\": 1224, \"10003\": 0},\n                \"conversions\": {\"0\": 158, \"10001\": 275, \"10002\": 288, \"10003\": 0}\n            },\n            {\n                \"date\": \"2025-01-30\",\n                \"visits\": {\"0\": 1404, \"10001\": 1257, \"10002\": 1428, \"10003\": 0},\n                \"conversions\": {\"0\": 189, \"10001\": 232, \"10002\": 312, \"10003\": 0}\n            },\n            {\n                \"date\": \"2025-01-31\",\n                \"visits\": {\"0\": 1986, \"10001\": 1084, \"10002\": 1607, \"10003\": 0},\n                \"conversions\": {\"0\": 234, \"10001\": 206, \"10002\": 346, \"10003\": 0}\n            }\n        ]\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"tooltipContainer\":\"CustomTooltip_tooltipContainer__C9n90\",\"labelTitle\":\"CustomTooltip_labelTitle__ypSNN\",\"tooltipWrapper\":\"CustomTooltip_tooltipWrapper__yKS5z\",\"tooltipItem\":\"CustomTooltip_tooltipItem__d9mSs\",\"variation\":\"CustomTooltip_variation__flyk1\",\"colorCircle\":\"CustomTooltip_colorCircle__YqQEo\"};","import React from 'react';\nimport type {TooltipProps} from \"recharts/types/component/Tooltip\";\nimport {CustomTooltipProps} from 'pages/LineChart/Model';\nimport styles from './CustomTooltip.module.scss';\nimport {IoCalendarOutline, IoTrophyOutline} from 'react-icons/io5';\n\n\nconst CustomTooltip = (props: TooltipProps<any, any> & CustomTooltipProps) => {\n    const {active, payload, label} = props;\n    if (!active || !payload || label == null) {\n        return null\n    }\n\n    const dateFormatLabel = new Date(label).toLocaleDateString();\n\n    const sortedData = [...payload].sort((a, b) => (b.value ?? 0) - (a.value ?? 0));\n    return (\n        <div className={styles.tooltipContainer}>\n            <div className={styles.labelTitle}>\n                <IoCalendarOutline/>\n                {dateFormatLabel}</div>\n            <div className={styles.tooltipWrapper}>\n                {sortedData.map((item, index) => (\n                    <div className={styles.tooltipItem} key={item.dataKey}>\n\n                        <div className={styles.variation}>\n                            <div className={styles.colorCircle} style={{backgroundColor: item.color}}/>\n                            <span>{item.name}</span>\n                            {index === 0 && <span><IoTrophyOutline/></span>}\n                        </div>\n\n                        <div key={item.dataKey}>{item.value}%</div>\n\n                    </div>\n                ))}\n            </div>\n        </div>\n\n\n    )\n};\n\nexport default CustomTooltip;\n","//общая структура данных графика\nexport interface ILineChartData {\n    variations: IVariation[];\n    data: IDataPerDay[];\n}\n\n//базовая структура каждого варианта, по которому отрисовывается кривая на графике\nexport interface IVariation {\n    id?: number;\n    name: string;\n}\n\n/**Данные по дням\n * @param date - дата в формате 'YYYY-MM-DD'\n * @param visits - кол-во посещений в виде объекта с ключами: '0', '10001', '10002', '10003' и числовыми значениями\n * @param conversions - конверсия в виде объекта с ключами: '0', '10001', '10002', '10003' и числовыми значениями\n**/\nexport interface IDataPerDay {\n    date: string;\n    visits: Record<string, number>;\n    conversions: Record<string, number>;\n}\n\n/** тип точки для отрисовки данных по дням с помощью Recharts\n* {date: 'YYYY-MM-DD',\n* '0': (conversions / visits) * 100,\n* '10002': (conversions / visits) * 100,\n* '10003': (conversions / visits) * 100 }\n * пример на выходе   { date: \"2025-01-01\", \"0\": 8.2, \"10001\": null,\"10002\": 12.3,\"10003\": 14.1},\n **/\n\nexport type LineChartPoint = {\n  date: string;\n  [variationKey: string]: number | null | string;\n  // timestamp?: number;\n};\n\nexport interface CustomTooltipProps {\n    active?: boolean;\n    payload?: {\n        name?: string;\n        value?: number;\n        color?: string;\n        dataKey?: string;\n    }[];\n    label?: string | number;\n}\n\nexport enum EChartTheme {\n    Light= 'Light',\n    Dark = 'Dark'\n}\n\nexport interface IThemeOption  {\n    value: EChartTheme,\n    label: string,\n    background: string;\n    icon: JSX.Element;\n}\n","import React from 'react';\nimport {IoMoonOutline, IoSunnyOutline} from 'react-icons/io5';\nimport {EChartTheme, IThemeOption} from 'pages/LineChart/Model';\n\nexport const Text = {\n    allVariations: {\n        value: 'all',\n        label: 'All variations selected'\n    },\n    periods: [\n        {\n            value: 'Day',\n            label: 'Day',\n        },\n        {\n            value: 'Week',\n            label: 'Week',\n        }\n    ],\n    lineType: [\n        {\n            value: 'linear',\n            label: 'Linear',\n        },\n        {\n            value: 'monotone',\n            label: 'Smooth',\n        },\n        {\n            value: 'area',\n            label: 'Area',\n        }\n    ]\n};\n\nexport const ThemeList: IThemeOption[] = [\n    {\n        value: EChartTheme.Light,\n        label: 'Light theme',\n        background: '#fff',\n        icon: <IoSunnyOutline/>,\n    },\n    {\n        value: EChartTheme.Dark,\n        label: 'Dark theme',\n        background: '#232222',\n        icon: <IoMoonOutline/>,\n    }\n]","// extracted by mini-css-extract-plugin\nexport default {\"mainContainer\":\"LineChartReact_mainContainer__MDC-o\",\"headerActions\":\"LineChartReact_headerActions__2-D+h\",\"variationsSelector\":\"LineChartReact_variationsSelector__tzbfu\",\"periodsSelector\":\"LineChartReact_periodsSelector__f1Pcf\",\"lineTypeSelector\":\"LineChartReact_lineTypeSelector__9MjUp\",\"downloadBtn\":\"LineChartReact_downloadBtn__Msbf3\",\"chartContainer\":\"LineChartReact_chartContainer__6bt9x\",\"rightGroupActions\":\"LineChartReact_rightGroupActions__mXKGK\",\"themeSelector\":\"LineChartReact_themeSelector__QRG2b\",\"lineChart\":\"LineChartReact_lineChart__x9Ah8\",\"themeOption\":\"LineChartReact_themeOption__Vwbxc\",\"zoomIn\":\"LineChartReact_zoomIn__fqc9N\",\"zoomOut\":\"LineChartReact_zoomOut__Emizp\",\"refreshBtn\":\"LineChartReact_refreshBtn__HuBFY\"};","import {LineChartData} from 'pages/LineChart/Data';\nimport {LineChartPoint} from 'pages/LineChart/Model';\n\n/** Функции по преобразованию исходных данных для отрисовки графика.\n * Создаем объект с ключами:\n * formatDailyData - массив точек в формате для Recharts,\n * variationKeys - массив ключей,\n * variationNameByKey - объект, представляющий мэппинг id и name,\n **/\n\n\n/** по ДНЯМ.**/\nexport const formatDailyLineChartData = (chart: typeof LineChartData) => {\n    const variationNameByKey: Record<string, string> = {};\n    const variationKeys: string[] = [];\n\n    //создаем массив ключей и мэппинг id-name\n    chart.variations.forEach((variation) => {\n        const key = variation.id !== undefined ? variation.id.toString() : '0'; //преобразовываем в строчку, тк ключи в visits и conversions в формате строки\n        variationKeys.push(key);\n        variationNameByKey[key] = variation.name;\n    })\n\n    //преобразовываем в формат для Recharts по дням\n    const formattedData: LineChartPoint[] = chart.data.map((item) => {\n        const row: LineChartPoint = {\n            date: item.date,\n            timestamp: new Date(item.date).getTime()\n        };\n\n        //находим по ключам и добавляем новые значения\n        variationKeys.forEach((key) => {\n            const visit = (item as any).visits[key];\n            const conversion = (item as any).conversions[key];\n\n            if (visit === undefined || conversion === undefined) {\n                row[key] = null;\n            } else if (visit === 0) {\n                row[key] = 0;\n            } else {\n                row[key] = ((conversion / visit) * 100).toFixed(2);\n            }\n        });\n\n        return row;\n    })\n\n    return {formattedData, variationKeys, variationNameByKey};\n};\n\n/** по НЕДЕЛЯМ.**/\nexport const formatWeeklyLineChartData = (chart: typeof LineChartData) => {\n    const variationNameByKey: Record<string, string> = {};\n    const variationKeys: string[] = [];\n    const weeklyData: Record<string, any> = {};\n\n    chart.variations.forEach((variation) => {\n        const key = variation.id !== undefined ? variation.id.toString() : '0';\n        variationKeys.push(key);\n        variationNameByKey[key] = variation.name;\n    });\n\n    let startDate = new Date(chart.data[0].date); //Wed Jan 01 2025 02:00:00 GMT+0200 (Восточная Европа, стандартное время)\n    let startKey = startDate.toISOString().split('T')[0]; //'2025-01-01'\n    weeklyData[startKey] = {visits: {}, conversions: {}};\n\n    chart.data.forEach(day => {\n        const date = new Date(day.date);\n        const diffDays = Math.floor((date.getTime() - startDate.getTime()) / 86400000);\n\n        if (diffDays > 6) {\n            //начинаем новую неделю\n            startDate = date;\n            startKey = startDate.toISOString().split('T')[0];\n            weeklyData[startKey] = {visits: {}, conversions: {}};\n        }\n\n        variationKeys.forEach(key => {\n            const v = (day as any).visits[key];\n            const c = (day as any).conversions[key];\n\n            weeklyData[startKey].visits[key] = (weeklyData[startKey].visits[key] || 0) + (v ?? 0);\n            weeklyData[startKey].conversions[key] = (weeklyData[startKey].conversions[key] || 0) + (c ?? 0);\n        });\n    });\n\n    const formattedData = Object.entries(weeklyData).map(([weekKey, data]) => {\n        const start = new Date(weekKey);\n        const timestamp = start.getTime();\n        const row: LineChartPoint = {\n            date: weekKey,\n            timestamp\n        };\n\n        variationKeys.forEach(key => {\n            const visits = data.visits[key];\n            const conv = data.conversions[key];\n\n            if (visits === 0) {\n                return row[key] = 0;\n            } else if (visits > 0) {\n                row[key] = +((conv / visits) * 100).toFixed(2);\n            } else {\n                row[key] = null;\n            }\n        });\n\n        return row;\n    });\n\n    return {formattedData, variationKeys, variationNameByKey};\n};\n\n\n/**\n * Экспорт стилей для картинки PNG\n */\nfunction getAllCSS() {\n    let css = \"\";\n    for (const sheet of document.styleSheets) {\n        try {\n            for (const rule of sheet.cssRules) {\n                css += rule.cssText;\n            }\n        } catch {\n        }\n    }\n    return css;\n}\n\n/**\n * Функция по экспорту графика в PNG-формат.\n */\nexport const exportChartToPNG = (svgElement: SVGSVGElement | null) => {\n    if (!svgElement) return;\n\n    //добавляем стиль\n    const styleTag = document.createElement('style');\n    styleTag.textContent = getAllCSS();\n    svgElement.prepend(styleTag);\n\n    const svgData = new XMLSerializer().serializeToString(svgElement);\n\n    styleTag.remove();\n\n    const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});\n    const url = URL.createObjectURL(svgBlob);\n\n\n    const img = new Image();\n    img.onload = () => {\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n            ctx.fillStyle = \"#ffffff\"; // фон (можно изменить)\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0);\n        }\n\n        const pngUrl = canvas.toDataURL('image/png');\n        const link = document.createElement('a');\n        link.download = 'chart.png';\n        link.href = pngUrl;\n        link.click();\n\n        URL.revokeObjectURL(url);\n    };\n    img.src = url;\n};\n\n\n","import React, {useRef, useState} from 'react';\nimport {LineChartData} from './Data';\nimport {ResponsiveContainer, LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid, Area, AreaChart} from 'recharts';\nimport CustomTooltip from 'pages/LineChart/CustomTooltip';\nimport {Select} from 'antd';\nimport {Text, ThemeList} from './const';\nimport styles from './LineChartReact.module.scss';\nimport {exportChartToPNG, formatDailyLineChartData, formatWeeklyLineChartData} from 'pages/LineChart/Utils';\nimport {IoDownloadOutline, IoRefreshOutline} from 'react-icons/io5';\nimport {IThemeOption} from 'pages/LineChart/Model';\n\nconst linesConfig: Record<string, string> = {\n    '0': '#8884d8',\n    '10001': '#82ca9d',\n    '10002': '#3f69bc',\n    '10003': '#ecbf12'\n};\n\nconst ALL_VARIATIONS_ID = Text.allVariations.value;\n\n\nconst ZOOM_STEP = 0.2;\n\nconst LineChartReact = () => {\n    const [chartTheme, setChartTheme] = useState<IThemeOption>(ThemeList[0]);\n    const [lineType, setLineType] = useState<'monotone' | 'area' | 'linear'>('linear');\n    const [selectedVariations, setSelectedVariations] = useState<string[]>([ALL_VARIATIONS_ID]);\n    const [selectedPeriod, setSelectedPeriod] = useState<'Day' | 'Week'>('Day');\n    const {\n        formattedData,\n        variationKeys,\n        variationNameByKey\n    } = selectedPeriod === 'Day' ? formatDailyLineChartData(LineChartData) : formatWeeklyLineChartData(LineChartData);\n    const realSelected = selectedVariations[0] === ALL_VARIATIONS_ID ? variationKeys : selectedVariations;\n    const chartRef = useRef<SVGSVGElement | null>(null);\n\n    //для zoom\n    const timestamps = formattedData.map(d => d.timestamp) as number[];\n    const dataMin = Math.min(...timestamps);\n    const dataMax = Math.max(...timestamps);\n    const baseRange = dataMax - dataMin;\n\n    const [scale, setScale] = useState(1);\n    //текущий домен на основе масштаба\n    const currentRange = baseRange / scale;\n    const center = dataMin + baseRange / 2;\n    //домен текущего зума\n    const zoomMin = center - currentRange / 2;\n    const zoomMax = center + currentRange / 2;\n\n    const zoomedData = formattedData.filter((d) => d.timestamp != null && d.timestamp >= zoomMin && d.timestamp <= zoomMax);\n\n    const applyZoom = (zoom: number) => {\n        setScale((prev) => {\n            const newScale = prev * zoom;\n            if (newScale < 1) return 1;\n            if (newScale > 500) return prev;\n\n            return newScale;\n        })\n    };\n\n    const handleZoomIn = () => applyZoom(1 + ZOOM_STEP);\n\n    const handleZoomOut = () => applyZoom(1 / (1 + ZOOM_STEP));\n\n    const handleResetZoom = () => setScale(1);\n\n    const handleSelectVariations = (values: string[]) => {\n        if (values.length === 0) {\n            return\n        }\n\n        if (values.length === variationKeys.length || values[values.length - 1] === ALL_VARIATIONS_ID) {\n            setSelectedVariations([ALL_VARIATIONS_ID]);\n        } else if (values[0] === ALL_VARIATIONS_ID) {\n            const filteredVariations = values.filter((value) => value !== ALL_VARIATIONS_ID)\n            setSelectedVariations(filteredVariations);\n        } else {\n            setSelectedVariations(values);\n        }\n    };\n\n    const handleExportToPNG = () => {\n        exportChartToPNG(chartRef.current);\n    };\n\n    const handleThemeChange = (_value: string, selectedOption?: IThemeOption | IThemeOption[]) => {\n        if (selectedOption && !Array.isArray(selectedOption)) {\n            setChartTheme(selectedOption);\n        }\n    }\n\n    return (\n        <div className={styles.mainContainer}>\n\n            <div className={styles.headerActions}>\n                <div className={styles.selectorsContainer}>\n                    {/* Фильтр выбора кривых на графике */}\n                    <Select\n                        mode=\"multiple\"\n                        className={styles.variationsSelector}\n                        defaultValue={[ALL_VARIATIONS_ID]}\n                        options={[\n                            Text.allVariations,\n                            ...variationKeys.map((key) => ({\n                                value: key,\n                                label: variationNameByKey[key],\n                            }))\n                        ]}\n                        onChange={handleSelectVariations}\n                        value={selectedVariations}\n                    />\n                    {/* Отображение по дням/неделям */}\n                    <Select\n                        className={styles.periodsSelector}\n                        options={Text.periods}\n                        onChange={setSelectedPeriod}\n                        value={selectedPeriod}\n                    />\n                </div>\n\n                <div className={styles.rightGroupActions}>\n                    {/* Вид кривой графика */}\n                    <Select\n                        className={styles.lineTypeSelector}\n                        onChange={setLineType}\n                        options={Text.lineType}\n                        value={lineType}\n                    />\n\n                    {/* Выгрузка графика в формате png */}\n                    <button className={styles.downloadBtn} onClick={handleExportToPNG}>\n                        <IoDownloadOutline/>\n                    </button>\n\n                    {/* Темная/светлая тема */}\n                    <Select\n                        className={styles.themeSelector}\n                        onChange={handleThemeChange}\n                        options={ThemeList}\n                        optionRender={(option) => (\n                            <div className={styles.themeOption}>\n                                {option.data.icon}\n                                <span>{option.data.label}</span>\n                            </div>\n                        )}\n                        value={chartTheme.value}\n                    />\n\n                    {/* Зум */}\n                    <div className={styles.zoomButtons}>\n                        <button className={styles.zoomIn} disabled={zoomedData.length === 3} onClick={handleZoomIn}>＋</button>\n                        <button className={styles.zoomOut} disabled={zoomedData.length === formattedData.length} onClick={handleZoomOut}>－</button>\n                        <button className={styles.refreshBtn} onClick={handleResetZoom}><IoRefreshOutline/></button>\n                    </div>\n\n                </div>\n            </div>\n\n            <h3 style={{textAlign: \"center\", marginBottom: 12}}>\n                Conversion Rate by Variations\n            </h3>\n            <div className={styles.chartContainer}>\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    {lineType === 'area' ? (\n                            <AreaChart key={realSelected.join('-') + lineType} style={{backgroundColor: chartTheme.background}}\n                                       className={styles.lineChart} ref={chartRef} data={zoomedData}>\n                                <CartesianGrid strokeDasharray=\"3 3\"/>\n                                <XAxis dataKey=\"timestamp\" type=\"number\"\n                                       domain={[zoomMin, zoomMax]}\n                                       scale=\"time\"\n                                       tickFormatter={v => new Date(v).toLocaleDateString()}\n                                />\n                                <YAxis width=\"auto\" tickFormatter={value => `${value}%`}/>\n                                <Tooltip content={<CustomTooltip/>} labelFormatter={label => new Date(label).toLocaleDateString()}/>\n\n                                {realSelected.map((key) =>\n                                    <Area key={key} dataKey={key} name={variationNameByKey[key]} stroke={linesConfig[key]}\n                                          fill={linesConfig[key] + \"33\"} isAnimationActive={true}/>)}\n                            </AreaChart>)\n                        : (\n                            <LineChart style={{backgroundColor: chartTheme.background}} key={realSelected.join('-') + lineType}\n                                       className={styles.lineChart} ref={chartRef}\n                                       data={zoomedData}>\n                                <CartesianGrid strokeDasharray=\"3 3\"/>\n                                <XAxis dataKey=\"timestamp\" type=\"number\"\n                                       domain={[zoomMin, zoomMax]}\n                                       scale=\"time\"\n                                       tickFormatter={v => new Date(v).toLocaleDateString()}\n                                />\n                                <YAxis width=\"auto\" tickFormatter={value => `${value}%`}/>\n                                <Tooltip content={<CustomTooltip/>} labelFormatter={label => new Date(label).toLocaleDateString()}/>\n                                {realSelected.map((key) => (\n                                    <Line key={key} dataKey={key} name={variationNameByKey[key]} type={lineType} dot={false}\n                                          stroke={linesConfig[key]} isAnimationActive={true}/>)\n                                )}\n                            </LineChart>)\n                    }\n                </ResponsiveContainer>\n            </div>\n        </div>\n    );\n};\n\n\nexport default LineChartReact;\n"],"names":["LineChartData","props","active","payload","label","dateFormatLabel","Date","toLocaleDateString","sortedData","sort","a","b","_b$value","_a$value","value","_jsxs","className","styles","children","_jsx","IoCalendarOutline","map","item","index","style","backgroundColor","color","name","IoTrophyOutline","dataKey","EChartTheme","Text","allVariations","periods","lineType","ThemeList","Light","background","icon","IoSunnyOutline","Dark","IoMoonOutline","exportChartToPNG","svgElement","styleTag","document","createElement","textContent","css","sheet","styleSheets","rule","cssRules","cssText","_unused","getAllCSS","prepend","svgData","XMLSerializer","serializeToString","remove","svgBlob","Blob","type","url","URL","createObjectURL","img","Image","onload","canvas","width","height","ctx","getContext","fillStyle","fillRect","drawImage","pngUrl","toDataURL","link","download","href","click","revokeObjectURL","src","linesConfig","ALL_VARIATIONS_ID","LineChartReact","chartTheme","setChartTheme","useState","setLineType","selectedVariations","setSelectedVariations","selectedPeriod","setSelectedPeriod","formattedData","variationKeys","variationNameByKey","chart","variations","forEach","variation","key","undefined","id","toString","push","data","row","date","timestamp","getTime","visit","visits","conversion","conversions","toFixed","formatDailyLineChartData","weeklyData","startDate","startKey","toISOString","split","day","Math","floor","v","c","Object","entries","_ref","weekKey","conv","formatWeeklyLineChartData","realSelected","chartRef","useRef","timestamps","d","dataMin","min","baseRange","max","scale","setScale","currentRange","center","zoomMin","zoomMax","zoomedData","filter","applyZoom","zoom","prev","newScale","mainContainer","headerActions","selectorsContainer","Select","mode","variationsSelector","defaultValue","options","onChange","values","length","filteredVariations","periodsSelector","rightGroupActions","lineTypeSelector","downloadBtn","onClick","handleExportToPNG","current","IoDownloadOutline","themeSelector","handleThemeChange","_value","selectedOption","Array","isArray","optionRender","option","themeOption","zoomButtons","zoomIn","disabled","handleZoomIn","zoomOut","handleZoomOut","refreshBtn","handleResetZoom","IoRefreshOutline","textAlign","marginBottom","chartContainer","ResponsiveContainer","AreaChart","lineChart","ref","CartesianGrid","strokeDasharray","XAxis","domain","tickFormatter","YAxis","concat","Tooltip","content","CustomTooltip","labelFormatter","Area","stroke","fill","isAnimationActive","join","LineChart","Line","dot"],"sourceRoot":""}